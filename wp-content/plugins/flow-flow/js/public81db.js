window.FF_DEBUG=-1!==location.href.indexOf("debug=1"),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var s=arguments[1],n=0;n<i;){var o=t[n];if(e.call(s,o,n,t))return o;n++}},configurable:!0,writable:!0}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(i),i}:e(jQuery)}(function(e){"use strict";var t=e(document),i=e(window),s="selectric",n=".sl",o=["a","e","i","o","u","n","c","y"],a=[/[\xE0-\xE5]/g,/[\xE8-\xEB]/g,/[\xEC-\xEF]/g,/[\xF2-\xF6]/g,/[\xF9-\xFC]/g,/[\xF1]/g,/[\xE7]/g,/[\xFD-\xFF]/g],r=function(t,i){var s=this;s.element=t,s.$element=e(t),s.state={multiple:!!s.$element.attr("multiple"),enabled:!1,opened:!1,currValue:-1,selectedIdx:-1,highlightedIdx:-1},s.eventTriggers={open:s.open,close:s.close,destroy:s.destroy,refresh:s.refresh,init:s.init},s.init(i)};r.prototype={utils:{isMobile:function(){return/android|ip(hone|od|ad)/i.test(navigator.userAgent)},escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},replaceDiacritics:function(e){for(var t=a.length;t--;)e=e.toLowerCase().replace(a[t],o[t]);return e},format:function(e){var t=arguments;return(""+e).replace(/\{(?:(\d+)|(\w+))\}/g,function(e,i,s){return s&&t[1]?t[1][s]:t[i]})},nextEnabledItem:function(e,t){for(;e[t=(t+1)%e.length].disabled;);return t},previousEnabledItem:function(e,t){for(;e[t=(t>0?t:e.length)-1].disabled;);return t},toDash:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(t,i){var n=i.element,o=i.options["on"+t],a=[n].concat([].slice.call(arguments).slice(1));e.isFunction(o)&&o.apply(n,a),e(n).trigger(s+"-"+this.toDash(t),a)},arrayToClassname:function(t){var i=e.grep(t,function(e){return!!e});return e.trim(i.join(" "))}},init:function(t){var i=this;if(i.options=e.extend(!0,{},e.fn[s].defaults,i.options,t),i.utils.triggerCallback("BeforeInit",i),i.destroy(!0),i.options.disableOnMobile&&i.utils.isMobile())i.disableOnMobile=!0;else{i.classes=i.getClassNames();var n=e("<input/>",{class:i.classes.input,readonly:i.utils.isMobile()}),o=e("<div/>",{class:i.classes.items,tabindex:-1}),a=e("<div/>",{class:i.classes.scroll}),r=e("<div/>",{class:i.classes.prefix,html:i.options.arrowButtonMarkup}),l=e("<span/>",{class:"label"}),d=i.$element.wrap("<div/>").parent().append(r.prepend(l),o,n),c=e("<div/>",{class:i.classes.hideselect});i.elements={input:n,items:o,itemsScroll:a,wrapper:r,label:l,outerWrapper:d},i.options.nativeOnMobile&&i.utils.isMobile()&&(i.elements.input=void 0,c.addClass(i.classes.prefix+"-is-native"),i.$element.on("change",function(){i.refresh()})),i.$element.on(i.eventTriggers).wrap(c),i.originalTabindex=i.$element.prop("tabindex"),i.$element.prop("tabindex",-1),i.populate(),i.activate(),i.utils.triggerCallback("Init",i)}},activate:function(){var e=this,t=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),i=e.$element.width();t.removeClass(e.classes.tempshow),e.utils.triggerCallback("BeforeActivate",e),e.elements.outerWrapper.prop("class",e.utils.arrayToClassname([e.classes.wrapper,e.$element.prop("class").replace(/\S+/g,e.classes.prefix+"-$&"),e.options.responsive?e.classes.responsive:""])),e.options.inheritOriginalWidth&&i>0&&e.elements.outerWrapper.width(i),e.unbindEvents(),e.$element.prop("disabled")?(e.elements.outerWrapper.addClass(e.classes.disabled),e.elements.input&&e.elements.input.prop("disabled",!0)):(e.state.enabled=!0,e.elements.outerWrapper.removeClass(e.classes.disabled),e.$li=e.elements.items.removeAttr("style").find("li"),e.bindEvents()),e.utils.triggerCallback("Activate",e)},getClassNames:function(){var t=this,i=t.options.customClass,s={};return e.each("Input Items Open Disabled TempShow HideSelect Wrapper Focus Hover Responsive Above Scroll Group GroupLabel".split(" "),function(e,n){var o=i.prefix+n;s[n.toLowerCase()]=i.camelCase?o:t.utils.toDash(o)}),s.prefix=i.prefix,s},setLabel:function(){var t=this,i=t.options.labelBuilder;if(t.state.multiple){var s=e.isArray(t.state.currValue)?t.state.currValue:[t.state.currValue];s=0===s.length?[0]:s;var n=e.map(s,function(i){return e.grep(t.lookupItems,function(e){return e.index===i})[0]});n=e.grep(n,function(t){return n.length>1||0===n.length?""!==e.trim(t.value):t}),n=e.map(n,function(s){return e.isFunction(i)?i(s):t.utils.format(i,s)}),t.options.multiple.maxLabelEntries&&(n.length>=t.options.multiple.maxLabelEntries+1?(n=n.slice(0,t.options.multiple.maxLabelEntries)).push(e.isFunction(i)?i({text:"..."}):t.utils.format(i,{text:"..."})):n.slice(n.length-1)),t.elements.label.html(n.join(t.options.multiple.separator))}else{var o=t.lookupItems[t.state.currValue];t.elements.label.html(e.isFunction(i)?i(o):t.utils.format(i,o))}},populate:function(){var t=this,i=t.$element.children(),s=t.$element.find("option"),n=s.filter(":selected"),o=s.index(n),a=0,r=t.state.multiple?[]:0;n.length>1&&t.state.multiple&&(o=[],n.each(function(){o.push(e(this).index())})),t.state.currValue=~o?o:r,t.state.selectedIdx=t.state.currValue,t.state.highlightedIdx=t.state.currValue,t.items=[],t.lookupItems=[],i.length&&(i.each(function(i){var s=e(this);if(s.is("optgroup")){var n={element:s,label:s.prop("label"),groupDisabled:s.prop("disabled"),items:[]};s.children().each(function(i){var s=e(this);n.items[i]=t.getItemData(a,s,n.groupDisabled||s.prop("disabled")),t.lookupItems[a]=n.items[i],a++}),t.items[i]=n}else t.items[i]=t.getItemData(a,s,s.prop("disabled")),t.lookupItems[a]=t.items[i],a++}),t.setLabel(),t.elements.items.append(t.elements.itemsScroll.html(t.getItemsMarkup(t.items))))},getItemData:function(t,i,s){var n=this;return{index:t,element:i,value:i.val(),className:i.prop("class"),text:i.html(),slug:e.trim(n.utils.replaceDiacritics(i.html())),selected:i.prop("selected"),disabled:s}},getItemsMarkup:function(t){var i=this,s="<ul>";return e.isFunction(i.options.listBuilder)&&i.options.listBuilder&&(t=i.options.listBuilder(t)),e.each(t,function(t,n){void 0!==n.label?(s+=i.utils.format('<ul class="{1}"><li class="{2}">{3}</li>',i.utils.arrayToClassname([i.classes.group,n.groupDisabled?"disabled":"",n.element.prop("class")]),i.classes.grouplabel,n.element.prop("label")),e.each(n.items,function(e,t){s+=i.getItemMarkup(t.index,t)}),s+="</ul>"):s+=i.getItemMarkup(n.index,n)}),s+"</ul>"},getItemMarkup:function(t,i){var s=this,n=s.options.optionsItemBuilder,o={value:i.value,text:i.text,slug:i.slug,index:i.index};return s.utils.format('<li data-index="{1}" class="{2}">{3}</li>',t,s.utils.arrayToClassname([i.className,t===s.items.length-1?"last":"",i.disabled?"disabled":"",i.selected?"selected":""]),e.isFunction(n)?s.utils.format(n(i),i):s.utils.format(n,o))},unbindEvents:function(){var e=this;e.elements.wrapper.add(e.$element).add(e.elements.outerWrapper).add(e.elements.input).off(n)},bindEvents:function(){var t=this;t.elements.outerWrapper.on("mouseenter.sl mouseleave"+n,function(i){e(this).toggleClass(t.classes.hover,"mouseenter"===i.type),t.options.openOnHover&&(clearTimeout(t.closeTimer),"mouseleave"===i.type?t.closeTimer=setTimeout(e.proxy(t.close,t),t.options.hoverIntentTimeout):t.open())}),t.elements.wrapper.on("click"+n,function(e){t.state.opened?t.close():t.open(e)}),t.options.nativeOnMobile&&t.utils.isMobile()||(t.$element.on("focus"+n,function(){t.elements.input.focus()}),t.elements.input.prop({tabindex:t.originalTabindex,disabled:!1}).on("keydown"+n,e.proxy(t.handleKeys,t)).on("focusin"+n,function(e){t.elements.outerWrapper.addClass(t.classes.focus),t.elements.input.one("blur",function(){t.elements.input.blur()}),t.options.openOnFocus&&!t.state.opened&&t.open(e)}).on("focusout"+n,function(){t.elements.outerWrapper.removeClass(t.classes.focus)}).on("input propertychange",function(){var i=t.elements.input.val(),s=new RegExp("^"+t.utils.escapeRegExp(i),"i");clearTimeout(t.resetStr),t.resetStr=setTimeout(function(){t.elements.input.val("")},t.options.keySearchTimeout),i.length&&e.each(t.items,function(e,i){(!i.disabled&&s.test(i.text)||s.test(i.slug))&&t.highlight(e)})})),t.$li.on({mousedown:function(e){e.preventDefault(),e.stopPropagation()},click:function(){return t.select(e(this).data("index")),!1}})},handleKeys:function(t){var i=this,s=t.which,n=i.options.keys,o=e.inArray(s,n.previous)>-1,a=e.inArray(s,n.next)>-1,r=e.inArray(s,n.select)>-1,l=e.inArray(s,n.open)>-1,d=i.state.highlightedIdx,c=o&&0===d||a&&d+1===i.items.length,f=0;if(13!==s&&32!==s||t.preventDefault(),o||a){if(!i.options.allowWrap&&c)return;o&&(f=i.utils.previousEnabledItem(i.lookupItems,d)),a&&(f=i.utils.nextEnabledItem(i.lookupItems,d)),i.highlight(f)}return r&&i.state.opened?(i.select(d),void(i.state.multiple&&i.options.multiple.keepMenuOpen||i.close())):void(l&&!i.state.opened&&i.open())},refresh:function(){var e=this;e.populate(),e.activate(),e.utils.triggerCallback("Refresh",e)},setOptionsDimensions:function(){var e=this,t=e.elements.items.closest(":visible").children(":hidden").addClass(e.classes.tempshow),i=e.options.maxHeight,s=e.elements.items.outerWidth(),n=e.elements.wrapper.outerWidth()-(s-e.elements.items.width());!e.options.expandToItemText||n>s?e.finalWidth=n:(e.elements.items.css("overflow","scroll"),e.elements.outerWrapper.width(9e4),e.finalWidth=e.elements.items.width(),e.elements.items.css("overflow",""),e.elements.outerWrapper.width("")),e.elements.items.width(e.finalWidth).height()>i&&e.elements.items.height(i),t.removeClass(e.classes.tempshow)},isInViewport:function(){var e=this,t=i.scrollTop(),s=i.height(),n=e.elements.outerWrapper.offset().top,o=n+e.elements.outerWrapper.outerHeight()+e.itemsHeight<=t+s,a=n-e.itemsHeight>t,r=!o&&a;e.elements.outerWrapper.toggleClass(e.classes.above,r)},detectItemVisibility:function(t){var i=this,s=i.$li.filter("[data-index]");i.state.multiple&&(t=e.isArray(t)&&0===t.length?0:t,t=e.isArray(t)?Math.min.apply(Math,t):t);var n=s.eq(t).outerHeight(),o=s[t].offsetTop,a=i.elements.itemsScroll.scrollTop(),r=o+2*n;i.elements.itemsScroll.scrollTop(r>a+i.itemsHeight?r-i.itemsHeight:o-n<a?o-n:a)},open:function(i){var o=this;return(!o.options.nativeOnMobile||!o.utils.isMobile())&&(o.utils.triggerCallback("BeforeOpen",o),i&&(i.preventDefault(),o.options.stopPropagation&&i.stopPropagation()),void(o.state.enabled&&(o.setOptionsDimensions(),e("."+o.classes.hideselect,"."+o.classes.open).children()[s]("close"),o.state.opened=!0,o.itemsHeight=o.elements.items.outerHeight(),o.itemsInnerHeight=o.elements.items.height(),o.elements.outerWrapper.addClass(o.classes.open),o.elements.input.val(""),i&&"focusin"!==i.type&&o.elements.input.focus(),setTimeout(function(){t.on("click"+n,e.proxy(o.close,o)).on("scroll"+n,e.proxy(o.isInViewport,o))},1),o.isInViewport(),o.options.preventWindowScroll&&t.on("mousewheel.sl DOMMouseScroll"+n,"."+o.classes.scroll,function(t){var i=t.originalEvent,s=e(this).scrollTop(),n=0;"detail"in i&&(n=-1*i.detail),"wheelDelta"in i&&(n=i.wheelDelta),"wheelDeltaY"in i&&(n=i.wheelDeltaY),"deltaY"in i&&(n=-1*i.deltaY),(s===this.scrollHeight-o.itemsInnerHeight&&n<0||0===s&&n>0)&&t.preventDefault()}),o.detectItemVisibility(o.state.selectedIdx),o.highlight(o.state.multiple?-1:o.state.selectedIdx),o.utils.triggerCallback("Open",o))))},close:function(){var e=this;e.utils.triggerCallback("BeforeClose",e),t.off(n),e.elements.outerWrapper.removeClass(e.classes.open),e.state.opened=!1,e.utils.triggerCallback("Close",e)},change:function(){var t=this;t.utils.triggerCallback("BeforeChange",t),t.state.multiple?(e.each(t.lookupItems,function(e){t.lookupItems[e].selected=!1,t.$element.find("option").prop("selected",!1)}),e.each(t.state.selectedIdx,function(e,i){t.lookupItems[i].selected=!0,t.$element.find("option").eq(i).prop("selected",!0)}),t.state.currValue=t.state.selectedIdx,t.setLabel(),t.utils.triggerCallback("Change",t)):t.state.currValue!==t.state.selectedIdx&&(t.$element.prop("selectedIndex",t.state.currValue=t.state.selectedIdx).data("value",t.lookupItems[t.state.selectedIdx].text),t.setLabel(),t.utils.triggerCallback("Change",t))},highlight:function(e){var t=this,i=t.$li.filter("[data-index]").removeClass("highlighted");t.utils.triggerCallback("BeforeHighlight",t),void 0===e||-1===e||t.lookupItems[e].disabled||(i.eq(t.state.highlightedIdx=e).addClass("highlighted"),t.detectItemVisibility(e),t.utils.triggerCallback("Highlight",t))},select:function(t){var i=this,s=i.$li.filter("[data-index]");if(i.utils.triggerCallback("BeforeSelect",i,t),void 0!==t&&-1!==t&&!i.lookupItems[t].disabled){if(i.state.multiple){i.state.selectedIdx=e.isArray(i.state.selectedIdx)?i.state.selectedIdx:[i.state.selectedIdx];var n=e.inArray(t,i.state.selectedIdx);-1!==n?i.state.selectedIdx.splice(n,1):i.state.selectedIdx.push(t),s.removeClass("selected").filter(function(t){return-1!==e.inArray(t,i.state.selectedIdx)}).addClass("selected")}else s.removeClass("selected").eq(i.state.selectedIdx=t).addClass("selected");i.state.multiple&&i.options.multiple.keepMenuOpen||i.close(),i.change(),i.utils.triggerCallback("Select",i,t)}},destroy:function(e){var t=this;t.state&&t.state.enabled&&(t.elements.items.add(t.elements.wrapper).add(t.elements.input).remove(),e||t.$element.removeData(s).removeData("value"),t.$element.prop("tabindex",t.originalTabindex).off(n).off(t.eventTriggers).unwrap().unwrap(),t.state.enabled=!1)}},e.fn[s]=function(t){return this.each(function(){var i=e.data(this,s);i&&!i.disableOnMobile?"string"==typeof t&&i[t]?i[t]():i.init(t):e.data(this,s,new r(this,t))})},e.fn[s].defaults={onChange:function(t){e(t).change()},maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!1,nativeOnMobile:!0,openOnFocus:!0,openOnHover:!1,hoverIntentTimeout:500,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,allowWrap:!0,stopPropagation:!0,optionsItemBuilder:"{text}",labelBuilder:"{text}",listBuilder:!1,keys:{previous:[37,38],next:[39,40],select:[9,13,27],open:[13,32,37,38,39,40],close:[9,27]},customClass:{prefix:s,camelCase:!1},multiple:{separator:", ",keepMenuOpen:!0,maxLabelEntries:!1}}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};(t=function(){var t=0;return function(i,s){var n,o=this;o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(i),appendDots:e(i),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,i){return e('<button type="button" data-role="none" role="button" tabindex="0" />').text(i+1)},dots:!1,dotsClass:"slick-dots slick-nav",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.focussed=!1,o.interrupted=!1,o.hidden="hidden",o.paused=!0,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=e(i),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,n=e(i).data("slick")||{},o.options=e.extend({},o.defaults,s,n),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,void 0!==document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=e.proxy(o.autoPlay,o),o.autoPlayClear=e.proxy(o.autoPlayClear,o),o.autoPlayIterator=e.proxy(o.autoPlayIterator,o),o.changeSlide=e.proxy(o.changeSlide,o),o.clickHandler=e.proxy(o.clickHandler,o),o.selectHandler=e.proxy(o.selectHandler,o),o.setPosition=e.proxy(o.setPosition,o),o.swipeHandler=e.proxy(o.swipeHandler,o),o.dragHandler=e.proxy(o.dragHandler,o),o.keyHandler=e.proxy(o.keyHandler,o),o.instanceUid=t++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.registerBreakpoints(),o.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,i,s){var n=this;if("boolean"==typeof i)s=i,i=null;else if(0>i||i>=n.slideCount)return!1;n.unload(),"number"==typeof i?0===i&&0===n.$slides.length?e(t).appendTo(n.$slideTrack):s?e(t).insertBefore(n.$slides.eq(i)):e(t).insertAfter(n.$slides.eq(i)):!0===s?e(t).prependTo(n.$slideTrack):e(t).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),n.$slidesCache=n.$slides,n.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var s={},n=this;n.animateHeight(),!0===n.options.rtl&&!1===n.options.vertical&&(t=-t),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:t},n.options.speed,n.options.easing,i):n.$slideTrack.animate({top:t},n.options.speed,n.options.easing,i):!1===n.cssTransitions?(!0===n.options.rtl&&(n.currentLeft=-n.currentLeft),e({animStart:n.currentLeft}).animate({animStart:t},{duration:n.options.speed,easing:n.options.easing,step:function(e){e=Math.ceil(e),!1===n.options.vertical?(s[n.animType]="translate("+e+"px, 0px)",n.$slideTrack.css(s)):(s[n.animType]="translate(0px,"+e+"px)",n.$slideTrack.css(s))},complete:function(){i&&i.call()}})):(n.applyTransition(),t=Math.ceil(t),!1===n.options.vertical?s[n.animType]="translate3d("+t+"px, 0px, 0px)":s[n.animType]="translate3d(0px,"+t+"px, 0px)",n.$slideTrack.css(s),i&&setTimeout(function(){n.disableTransition(),i.call()},n.options.speed))},t.prototype.getNavTarget=function(){var t=this,i=t.options.asNavFor;return i&&null!==i&&(i=e(i).not(t.$slider)),i},t.prototype.asNavFor=function(t){var i=this.getNavTarget();null!==i&&"object"==typeof i&&i.each(function(){var i=e(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(e){var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,i,s=this;if(!0===s.options.dots&&s.slideCount>s.options.slidesToShow){for(s.$slider.addClass("slick-dotted"),i=e("<ul />").addClass(s.options.dotsClass),t=0;t<=s.getDotCount();t+=1)i.append(e("<li />").append(s.options.customPaging.call(this,s,t)));s.$dots=i.appendTo(s.options.appendDots),s.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t).data("originalStyling",e(i).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(!0===t.options.centerMode||!0===t.options.swipeToSlide)&&(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,i,s,n,o,a,r=this;if(s=document.createDocumentFragment(),o=r.$slider.children(),r.options.rows>1){for(a=r.options.slidesPerRow*r.options.rows,n=Math.ceil(o.length/a),e=0;n>e;e++){var l=document.createElement("div");for(t=0;t<r.options.rows;t++){var d=document.createElement("div");for(i=0;i<r.options.slidesPerRow;i++){var c=e*a+(t*r.options.slidesPerRow+i);o.get(c)&&d.appendChild(o.get(c))}l.appendChild(d)}s.appendChild(l)}r.$slider.empty().append(s),r.$slider.children().children().children().css({width:100/r.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var s,n,o,a=this,r=!1,l=a.$slider.width(),d=window.innerWidth||e(window).width();if("window"===a.respondTo?o=d:"slider"===a.respondTo?o=l:"min"===a.respondTo&&(o=Math.min(d,l)),a.options.responsive&&a.options.responsive.length&&null!==a.options.responsive){n=null;for(s in a.breakpoints)a.breakpoints.hasOwnProperty(s)&&(!1===a.originalSettings.mobileFirst?o<a.breakpoints[s]&&(n=a.breakpoints[s]):o>a.breakpoints[s]&&(n=a.breakpoints[s]));null!==n?null!==a.activeBreakpoint?(n!==a.activeBreakpoint||i)&&(a.activeBreakpoint=n,"unslick"===a.breakpointSettings[n]?a.unslick(n):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[n]),!0===t&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),r=n):(a.activeBreakpoint=n,"unslick"===a.breakpointSettings[n]?a.unslick(n):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[n]),!0===t&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),r=n):null!==a.activeBreakpoint&&(a.activeBreakpoint=null,a.options=a.originalSettings,!0===t&&(a.currentSlide=a.options.initialSlide),a.refresh(t),r=n),t||!1===r||a.$slider.trigger("breakpoint",[a,r])}},t.prototype.changeSlide=function(t,i){var s,n,o,a=this,r=e(t.currentTarget);switch(r.is("a")&&t.preventDefault(),r.is("li")||(r=r.closest("li")),o=a.slideCount%a.options.slidesToScroll!=0,s=o?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,t.data.message){case"previous":n=0===s?a.options.slidesToScroll:a.options.slidesToShow-s,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-n,!1,i);break;case"next":n=0===s?a.options.slidesToScroll:s,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+n,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||r.index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(l),!1,i),r.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,i;if(t=this.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var s in t){if(e<t[s]){e=i;break}i=t[s]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&((e=t.$slides.children().children()).removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),e(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;!1===t.cssTransitions?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(i){i.stopImmediatePropagation();var s=e(this);setTimeout(function(){t.options.pauseOnFocus&&(t.focussed=s.is(":focus"),t.autoPlay())},0)})},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){return this.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,s=0;if(!0===e.options.infinite)for(;t<e.slideCount;)++s,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)s=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++s,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else s=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return s-1},t.prototype.getLeft=function(e){var t,i,s,n=this,o=0;return n.slideOffset=0,i=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,o=i*n.options.slidesToShow*-1),n.slideCount%n.options.slidesToScroll!=0&&e+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(e>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(e-n.slideCount))*n.slideWidth*-1,o=(n.options.slidesToShow-(e-n.slideCount))*i*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,o=n.slideCount%n.options.slidesToScroll*i*-1))):e+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(e+n.options.slidesToShow-n.slideCount)*n.slideWidth,o=(e+n.options.slidesToShow-n.slideCount)*i),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,o=0),!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),t=!1===n.options.vertical?e*n.slideWidth*-1+n.slideOffset:e*i*-1+o,!0===n.options.variableWidth&&(s=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(e):n.$slideTrack.children(".slick-slide").eq(e+n.options.slidesToShow),t=!0===n.options.rtl?s[0]?-1*(n.$slideTrack.width()-s[0].offsetLeft-s.width()):0:s[0]?-1*s[0].offsetLeft:0,!0===n.options.centerMode&&(s=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(e):n.$slideTrack.children(".slick-slide").eq(e+n.options.slidesToShow+1),t=!0===n.options.rtl?s[0]?-1*(n.$slideTrack.width()-s[0].offsetLeft-s.width()):0:s[0]?-1*s[0].offsetLeft:0,t+=(n.$list.width()-s.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){return this.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,s=0,n=[];for(!1===t.options.infinite?e=t.slideCount:(i=-1*t.options.slidesToScroll,s=-1*t.options.slidesToScroll,e=2*t.slideCount);e>i;)n.push(i),i=s+t.options.slidesToScroll,s+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return n},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,s=this;return i=!0===s.options.centerMode?s.slideWidth*Math.floor(s.options.slidesToShow/2):0,!0===s.options.swipeToSlide?(s.$slideTrack.find(".slick-slide").each(function(n,o){return o.offsetLeft-i+e(o).outerWidth()/2>-1*s.swipeLeft?(t=o,!1):void 0}),Math.abs(e(t).attr("data-slick-index")-s.currentSlide)||1):s.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var i=this;e(i.$slider).hasClass("slick-initialized")||(e(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),t&&i.$slider.trigger("init",[i]),!0===i.options.accessibility&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},t.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){e(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+i})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(i){e(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+i,id:"slick-slide"+t.instanceUid+i})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:!0===t.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:!0===t.options.rtl?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy"),s=document.createElement("img");s.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",i).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")}),o.$slider.trigger("lazyLoaded",[o,t,i])})},s.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,t,i])},s.src=i})}var i,s,n,o=this;!0===o.options.centerMode?!0===o.options.infinite?(s=o.currentSlide+(o.options.slidesToShow/2+1),n=s+o.options.slidesToShow+2):(s=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1)),n=o.options.slidesToShow/2+1+2+o.currentSlide):(s=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide,n=Math.ceil(s+o.options.slidesToShow),!0===o.options.fade&&(s>0&&s--,n<=o.slideCount&&n++)),t(o.$slider.find(".slick-slide").slice(s,n)),o.slideCount<=o.options.slidesToShow?(i=o.$slider.find(".slick-slide"),t(i)):o.currentSlide>=o.slideCount-o.options.slidesToShow?(i=o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow),t(i)):0===o.currentSlide&&(i=o.$slider.find(".slick-cloned").slice(-1*o.options.slidesToShow),t(i))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&t.initADA())},t.prototype.prev=t.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(t){t=t||1;var i,s,n,o=this,a=e("img[data-lazy]",o.$slider);a.length?(i=a.first(),s=i.attr("data-lazy"),n=document.createElement("img"),n.onload=function(){i.attr("src",s).removeAttr("data-lazy").removeClass("slick-loading"),!0===o.options.adaptiveHeight&&o.setPosition(),o.$slider.trigger("lazyLoaded",[o,i,s]),o.progressiveLazyLoad()},n.onerror=function(){3>t?setTimeout(function(){o.progressiveLazyLoad(t+1)},500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,i,s]),o.progressiveLazyLoad())},n.src=s):o.$slider.trigger("allImagesLoaded",[o])},t.prototype.refresh=function(t){var i,s,n=this;s=n.slideCount-n.options.slidesToShow,!n.options.infinite&&n.currentSlide>s&&(n.currentSlide=s),n.slideCount<=n.options.slidesToShow&&(n.currentSlide=0),i=n.currentSlide,n.destroy(!0),e.extend(n,n.initials,{currentSlide:i}),n.init(),t||n.changeSlide({data:{message:"index",index:i}},!1)},t.prototype.registerBreakpoints=function(){var t,i,s,n=this,o=n.options.responsive||null;if("array"===e.type(o)&&o.length){n.respondTo=n.options.respondTo||"window";for(t in o)if(s=n.breakpoints.length-1,i=o[t].breakpoint,o.hasOwnProperty(t)){for(;s>=0;)n.breakpoints[s]&&n.breakpoints[s]===i&&n.breakpoints.splice(s,1),s--;n.breakpoints.push(i),n.breakpointSettings[i]=o[t].settings}n.breakpoints.sort(function(e,t){return n.options.mobileFirst?e-t:t-e})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var s=this;return"boolean"==typeof e?(t=e,e=!0===t?0:s.slideCount-1):e=!0===t?--e:e,!(s.slideCount<1||0>e||e>s.slideCount-1)&&(s.unload(),!0===i?s.$slideTrack.children().remove():s.$slideTrack.children(this.options.slide).eq(e).remove(),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slidesCache=s.$slides,void s.reinit())},t.prototype.setCSS=function(e){var t,i,s=this,n={};!0===s.options.rtl&&(e=-e),t="left"==s.positionProp?Math.ceil(e)+"px":"0px",i="top"==s.positionProp?Math.ceil(e)+"px":"0px",n[s.positionProp]=e,!1===s.transformsEnabled?s.$slideTrack.css(n):(n={},!1===s.cssTransitions?(n[s.animType]="translate("+t+", "+i+")",s.$slideTrack.css(n)):(n[s.animType]="translate3d("+t+", "+i+", 0px)",s.$slideTrack.css(n)))},t.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(s,n){t=i.slideWidth*s*-1,!0===i.options.rtl?e(n).css({position:"relative",right:t,top:0,zIndex:i.options.zIndex-2,opacity:0}):e(n).css({position:"relative",left:t,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,i,s,n,o,a=this,r=!1;if("object"===e.type(arguments[0])?(s=arguments[0],r=arguments[1],o="multiple"):"string"===e.type(arguments[0])&&(s=arguments[0],n=arguments[1],r=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?o="responsive":void 0!==arguments[1]&&(o="single")),"single"===o)a.options[s]=n;else if("multiple"===o)e.each(s,function(e,t){a.options[e]=t});else if("responsive"===o)for(i in n)if("array"!==e.type(a.options.responsive))a.options.responsive=[n[i]];else{for(t=a.options.responsive.length-1;t>=0;)a.options.responsive[t].breakpoint===n[i].breakpoint&&a.options.responsive.splice(t,1),t--;a.options.responsive.push(n[i])}r&&(a.unload(),a.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},t.prototype.setSlideClasses=function(e){var t,i,s,n,o=this;i=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(e).addClass("slick-current"),!0===o.options.centerMode?(t=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(e>=t&&e<=o.slideCount-1-t?o.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(s=o.options.slidesToShow+e,i.slice(s-t+1,s+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&i.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):e>=0&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=o.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(n=o.slideCount%o.options.slidesToShow,s=!0===o.options.infinite?o.options.slidesToShow+e:e,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?i.slice(s-(o.options.slidesToShow-n),s+n).addClass("slick-active").attr("aria-hidden","false"):i.slice(s,s+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,s,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(i=null,n.slideCount>n.options.slidesToShow)){for(s=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,t=n.slideCount;t>n.slideCount-s;t-=1)i=t-1,e(n.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(t=0;s>t;t+=1)i=t,e(n.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.interrupt=function(e){var t=this;e||t.autoPlay(),t.interrupted=e},t.prototype.selectHandler=function(t){var i=this,s=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),n=parseInt(s.attr("data-slick-index"));return n||(n=0),i.slideCount<=i.options.slidesToShow?(i.setSlideClasses(n),void i.asNavFor(n)):void i.slideHandler(n)},t.prototype.slideHandler=function(e,t,i){var s,n,o,a,r,l=null,d=this;return t=t||!1,!0===d.animating&&!0===d.options.waitForAnimate||!0===d.options.fade&&d.currentSlide===e||d.slideCount<=d.options.slidesToShow?void 0:(!1===t&&d.asNavFor(e),s=e,l=d.getLeft(s),a=d.getLeft(d.currentSlide),d.currentLeft=null===d.swipeLeft?a:d.swipeLeft,!1===d.options.infinite&&!1===d.options.centerMode&&(0>e||e>d.getDotCount()*d.options.slidesToScroll)?void(!1===d.options.fade&&(s=d.currentSlide,!0!==i?d.animateSlide(a,function(){d.postSlide(s)}):d.postSlide(s))):!1===d.options.infinite&&!0===d.options.centerMode&&(0>e||e>d.slideCount-d.options.slidesToScroll)?void(!1===d.options.fade&&(s=d.currentSlide,!0!==i?d.animateSlide(a,function(){d.postSlide(s)}):d.postSlide(s))):(d.options.autoplay&&clearInterval(d.autoPlayTimer),n=0>s?d.slideCount%d.options.slidesToScroll!=0?d.slideCount-d.slideCount%d.options.slidesToScroll:d.slideCount+s:s>=d.slideCount?d.slideCount%d.options.slidesToScroll!=0?0:s-d.slideCount:s,d.animating=!0,d.$slider.trigger("beforeChange",[d,d.currentSlide,n]),o=d.currentSlide,d.currentSlide=n,d.setSlideClasses(d.currentSlide),d.options.asNavFor&&(r=d.getNavTarget(),(r=r.slick("getSlick")).slideCount<=r.options.slidesToShow&&r.setSlideClasses(d.currentSlide)),d.updateDots(),d.updateArrows(),!0===d.options.fade?(!0!==i?(d.fadeSlideOut(o),d.fadeSlide(n,function(){d.postSlide(n)})):d.postSlide(n),void d.animateHeight()):void(!0!==i?d.animateSlide(l,function(){d.postSlide(n)}):d.postSlide(n))))},t.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,s,n=this;return e=n.touchObject.startX-n.touchObject.curX,t=n.touchObject.startY-n.touchObject.curY,i=Math.atan2(t,e),0>(s=Math.round(180*i/Math.PI))&&(s=360-Math.abs(s)),45>=s&&s>=0?!1===n.options.rtl?"left":"right":360>=s&&s>=315?!1===n.options.rtl?"left":"right":s>=135&&225>=s?!1===n.options.rtl?"right":"left":!0===n.options.verticalSwiping?s>=35&&135>=s?"down":"up":"vertical"},t.prototype.swipeEnd=function(e){var t,i,s=this;if(s.dragging=!1,s.interrupted=!1,s.shouldClick=!(s.touchObject.swipeLength>10),void 0===s.touchObject.curX)return!1;if(!0===s.touchObject.edgeHit&&s.$slider.trigger("edge",[s,s.swipeDirection()]),s.touchObject.swipeLength>=s.touchObject.minSwipe){switch(i=s.swipeDirection()){case"left":case"down":t=s.options.swipeToSlide?s.checkNavigable(s.currentSlide+s.getSlideCount()):s.currentSlide+s.getSlideCount(),s.currentDirection=0;break;case"right":case"up":t=s.options.swipeToSlide?s.checkNavigable(s.currentSlide-s.getSlideCount()):s.currentSlide-s.getSlideCount(),s.currentDirection=1}"vertical"!=i&&(s.slideHandler(t),s.touchObject={},s.$slider.trigger("swipe",[s,i]))}else s.touchObject.startX!==s.touchObject.curX&&(s.slideHandler(s.currentSlide),s.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,s,n,o,a=this;return o=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!a.dragging||o&&1!==o.length)&&(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,a.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),"vertical"!==(i=a.swipeDirection())?(void 0!==e.originalEvent&&a.touchObject.swipeLength>4&&e.preventDefault(),n=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(n=a.touchObject.curY>a.touchObject.startY?1:-1),s=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,!1===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(s=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=t+s*n:a.swipeLeft=t+s*(a.$list.height()/a.listWidth)*n,!0===a.options.verticalSwiping&&(a.swipeLeft=t+s*n),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},t.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},e.fn.slick=function(){var e,i,s=this,n=arguments[0],o=Array.prototype.slice.call(arguments,1),a=s.length;for(e=0;a>e;e++)if("object"==typeof n||void 0===n?s[e].slick=new t(s[e],n):i=s[e].slick[n].apply(s[e].slick,o),void 0!==i)return i;return s}}),window.CustomModernizr=function(e,t,i){function s(e){m.cssText=e}function n(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function a(e,t){for(var s in e){var n=e[s];if(!o(n,"-")&&m[n]!==i)return"pfx"!=t||n}return!1}function r(e,t,s){for(var o in e){var a=t[e[o]];if(a!==i)return!1===s?e[o]:n(a,"function")?a.bind(s||t):a}return!1}function l(e,t,i){var s=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+w.join(s+" ")+s).split(" ");return n(t,"string")||n(t,"undefined")?a(o,t):(o=(e+" "+y.join(s+" ")+s).split(" "),r(o,t,i))}var d,c,f={},p=t.documentElement,u="modernizr",h=t.createElement(u),m=h.style,g=" -webkit- -moz- -o- -ms- ".split(" "),v="Webkit Moz O ms",w=v.split(" "),y=v.toLowerCase().split(" "),b={},x=[],k=x.slice,C=function(e,i,s,n){var o,a,r,l,d=t.createElement("div"),c=t.body,f=c||t.createElement("body");if(parseInt(s,10))for(;s--;)r=t.createElement("div"),r.id=n?n[s]:u+(s+1),d.appendChild(r);return o=["&#173;",'<style id="s',u,'">',e,"</style>"].join(""),d.id=u,(c?d:f).innerHTML+=o,f.appendChild(d),c||(f.style.background="",f.style.overflow="hidden",l=p.style.overflow,p.style.overflow="hidden",p.appendChild(f)),a=i(d,e),c?d.parentNode.removeChild(d):(f.parentNode.removeChild(f),p.style.overflow=l),!!a},T={}.hasOwnProperty;c=n(T,"undefined")||n(T.call,"undefined")?function(e,t){return t in e&&n(e.constructor.prototype[t],"undefined")}:function(e,t){return T.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=k.call(arguments,1),s=function(){if(this instanceof s){var n=function(){};n.prototype=t.prototype;var o=new n,a=t.apply(o,i.concat(k.call(arguments)));return Object(a)===a?a:o}return t.apply(e,i.concat(k.call(arguments)))};return s}),b.csstransforms=function(){return!!l("transform")},b.csstransforms3d=function(){var e=!!l("perspective");return e&&"webkitPerspective"in p.style&&C("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,i){e=9===t.offsetLeft&&3===t.offsetHeight}),e},b.csstransitions=function(){return l("transition")};for(var S in b)c(b,S)&&(d=S.toLowerCase(),f[d]=b[S](),x.push((f[d]?"":"no-")+d));return f.addTest=function(e,t){if("object"==typeof e)for(var s in e)c(e,s)&&f.addTest(s,e[s]);else{if(e=e.toLowerCase(),f[e]!==i)return f;t="function"==typeof t?t():t,p.className+=" "+(t?"":"no-")+e,f[e]=t}return f},s(""),h=null,f._version="2.6.2",f._prefixes=g,f._domPrefixes=y,f._cssomPrefixes=w,f.testProp=function(e){return a([e])},f.testAllProps=l,f.testStyles=C,f.prefixed=function(e,t,i){return t?l(e,t,i):l(e,"pfx")},p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+x.join(" "),f}(0,this.document),window.findAndReplaceDOMText=function(){function e(e){return String(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function t(){return i.apply(null,arguments)||s.apply(null,arguments)}function i(e,i,n,o,a){if(i&&!i.nodeType&&arguments.length<=2)return!1;var r="function"==typeof n;r&&(n=function(e){return function(t,i){return e(t.text,i.startIndex)}}(n));var l=s(i,{find:e,wrap:r?null:n,replace:r?n:"$"+(o||"&"),prepMatch:function(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";if(o>0){var i=e[o];e.index+=e[0].indexOf(i),e[0]=i}return e.endIndex=e.index+e[0].length,e.startIndex=e.index,e.index=t,e},filterElements:a});return t.revert=function(){return l.revert()},!0}function s(e,t){return new n(e,t)}function n(e,t){t.portionMode=t.portionMode||o,this.node=e,this.options=t,this.prepMatch=t.prepMatch||this.prepMatch,this.reverts=[],this.matches=this.search(),this.matches.length&&this.processMatches()}var o="retain",a=document;return t.Finder=n,n.prototype={search:function(){var t,i=0,s=this.options.find,n=this.getAggregateText(),o=[];if((s="string"==typeof s?RegExp(e(s),"g"):s).global)for(;t=s.exec(n);)o.push(this.prepMatch(t,i++));else(t=n.match(s))&&o.push(this.prepMatch(t,0));return o},prepMatch:function(e,t){if(!e[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return e.endIndex=e.index+e[0].length,e.startIndex=e.index,e.index=t,e},getAggregateText:function(){function e(i){if(3===i.nodeType)return i.data;if(t&&!t(i))return"";var s="";if(i=i.firstChild)do{s+=e(i)}while(i=i.nextSibling);return s}var t=this.options.filterElements;return e(this.node)},processMatches:function(){var e,t,i,s=this.matches,n=this.node,o=this.options.filterElements,a=[],r=n,l=s.shift(),d=0,c=0,f=0,p=[n];e:for(;;){if(3===r.nodeType&&(!t&&r.length+d>=l.endIndex?t={node:r,index:f++,text:r.data.substring(l.startIndex-d,l.endIndex-d),indexInMatch:d-l.startIndex,indexInNode:l.startIndex-d,endIndexInNode:l.endIndex-d,isEnd:!0}:e&&a.push({node:r,index:f++,text:r.data,indexInMatch:d-l.startIndex,indexInNode:0}),!e&&r.length+d>l.startIndex&&(e={node:r,index:f++,indexInMatch:0,indexInNode:l.startIndex-d,endIndexInNode:l.endIndex-d,text:r.data.substring(l.startIndex-d,l.endIndex-d)}),d+=r.data.length),i=1===r.nodeType&&o&&!o(r),e&&t){if(r=this.replaceMatch(l,e,a,t),d-=t.node.data.length-t.endIndexInNode,e=null,t=null,a=[],l=s.shift(),f=0,c++,!l)break}else if(!i&&(r.firstChild||r.nextSibling)){r.firstChild?(p.push(r),r=r.firstChild):r=r.nextSibling;continue}for(;;){if(r.nextSibling){r=r.nextSibling;break}if((r=p.pop())===n)break e}}},revert:function(){for(var e=this.reverts.length;e--;)this.reverts[e]();this.reverts=[]},prepareReplacementString:function(e,t,i,s){var n=this.options.portionMode;return"first"===n&&t.indexInMatch>0?"":(e=e.replace(/\$(\d+|&|`|')/g,function(e,t){var s;switch(t){case"&":s=i[0];break;case"`":s=i.input.substring(0,i.startIndex);break;case"'":s=i.input.substring(i.endIndex);break;default:s=i[+t]}return s}),"first"===n?e:t.isEnd?e.substring(t.indexInMatch):e.substring(t.indexInMatch,t.indexInMatch+t.text.length))},getPortionReplacementNode:function(e,t,i){var s=this.options.replace||"$&",n=this.options.clss,o=this.options.wrap;if(o&&o.nodeType){var r=a.createElement("div");r.innerHTML=o.outerHTML||(new XMLSerializer).serializeToString(o),o=r.firstChild}if("function"==typeof s)return(s=s(e,t,i))&&s.nodeType?s:a.createTextNode(String(s));var l="string"==typeof o?a.createElement(o):o;return n&&(l.className=n),(s=a.createTextNode(this.prepareReplacementString(s,e,t,i))).data&&l?(l.appendChild(s),l):s},replaceMatch:function(e,t,i,s){var n,o,r=t.node,l=s.node;if(r===l){var d=r;t.indexInNode>0&&(n=a.createTextNode(d.data.substring(0,t.indexInNode)),d.parentNode.insertBefore(n,d));var c=this.getPortionReplacementNode(s,e);return d.parentNode.insertBefore(c,d),s.endIndexInNode<d.length&&(o=a.createTextNode(d.data.substring(s.endIndexInNode)),d.parentNode.insertBefore(o,d)),d.parentNode.removeChild(d),this.reverts.push(function(){n===c.previousSibling&&n.parentNode.removeChild(n),o===c.nextSibling&&o.parentNode.removeChild(o),c.parentNode.replaceChild(d,c)}),c}n=a.createTextNode(r.data.substring(0,t.indexInNode)),o=a.createTextNode(l.data.substring(s.endIndexInNode));for(var f=this.getPortionReplacementNode(t,e),p=[],u=0,h=i.length;u<h;++u){var m=i[u],g=this.getPortionReplacementNode(m,e);m.node.parentNode.replaceChild(g,m.node),this.reverts.push(function(e,t){return function(){t.parentNode.replaceChild(e.node,t)}}(m,g)),p.push(g)}var v=this.getPortionReplacementNode(s,e);return r.parentNode.insertBefore(n,r),r.parentNode.insertBefore(f,r),r.parentNode.removeChild(r),l.parentNode.insertBefore(v,l),l.parentNode.insertBefore(o,l),l.parentNode.removeChild(l),this.reverts.push(function(){n.parentNode.removeChild(n),f.parentNode.replaceChild(r,f),o.parentNode.removeChild(o),v.parentNode.replaceChild(l,v)}),v}},t}(),function(e,t){function i(e,t,i){var s=e.children(),n=!1;e.empty();for(var a=0,r=s.length;r>a;a++){var l=s.eq(a);if(e.append(l),i&&e.append(i),o(e,t)){l.remove(),n=!0;break}i&&i.detach()}return n}function s(t,i,a,r,l){var d=!1;return t.contents().detach().each(function(){var c=this,f=e(c);if(void 0===c)return!0;if(f.is("script, .dotdotdot-keep"))t.append(f);else{if(d)return!0;t.append(f),!l||f.is(r.after)||f.find(r.after).length||t[t.is("a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](l),o(a,r)&&(d=3==c.nodeType?n(f,i,a,r,l):s(f,i,a,r,l)),d||l&&l.detach()}}),i.addClass("is-truncated"),d}function n(t,i,s,n,r){var c=t[0];if(!c)return!1;var p=d(c),u=-1!==p.indexOf(" ")?" ":"",h="letter"==n.wrap?"":u,m=p.split(h),g=-1,v=-1,w=0,y=m.length-1;for(n.fallbackToLetter&&0==w&&0==y&&(h="",m=p.split(h),y=m.length-1);y>=w&&(0!=w||0!=y);){var b=Math.floor((w+y)/2);if(b==v)break;v=b,l(c,m.slice(0,v+1).join(h)+n.ellipsis),s.children().each(function(){e(this).toggle().toggle()}),o(s,n)?(y=v,n.fallbackToLetter&&0==w&&0==y&&(h="",m=m[0].split(h),g=-1,v=-1,w=0,y=m.length-1)):(g=v,w=v)}if(-1==g||1==m.length&&0==m[0].length){var x=t.parent();t.detach();var k=r&&r.closest(x).length?r.length:0;if(x.contents().length>k?c=f(x.contents().eq(-1-k),i):(c=f(x,i,!0),k||x.detach()),c&&(p=a(d(c),n),l(c,p),k&&r)){var C=r.parent();e(c).parent().append(r),e.trim(C.html())||C.remove()}}else p=a(m.slice(0,g+1).join(h),n),l(c,p);return!0}function o(e,t){return e.innerHeight()>t.maxHeight}function a(t,i){for(;e.inArray(t.slice(-1),i.lastCharacter.remove)>-1;)t=t.slice(0,-1);return e.inArray(t.slice(-1),i.lastCharacter.noEllipsis)<0&&(t+=i.ellipsis),t}function r(e){return{width:e.innerWidth(),height:e.innerHeight()}}function l(e,t){e.innerText?e.innerText=t:e.nodeValue?e.nodeValue=t:e.textContent&&(e.textContent=t)}function d(e){return e.innerText?e.innerText:e.nodeValue?e.nodeValue:e.textContent?e.textContent:""}function c(e){do{e=e.previousSibling}while(e&&1!==e.nodeType&&3!==e.nodeType);return e}function f(t,i,s){var n,o=t&&t[0];if(o){if(!s){if(3===o.nodeType)return o;if(e.trim(t.text()))return f(t.contents().last(),i)}for(n=c(o);!n;){if((t=t.parent()).is(i)||!t.length)return!1;n=c(t[0])}if(n)return f(e(n),i)}return!1}function p(t,i){return!!t&&("string"==typeof t?!!(t=e(t,i)).length&&t:!!t.jquery&&t)}function u(e){for(var t=e.innerHeight(),i=["paddingTop","paddingBottom"],s=0,n=i.length;n>s;s++){var o=parseInt(e.css(i[s]),10);isNaN(o)&&(o=0),t-=o}return t}if(!e.fn.dotdotdot){e.fn.dotdotdot=function(t){if(0==this.length)return e.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){e(this).dotdotdot(t)});var n=this,a=n.contents();n.data("dotdotdot")&&n.trigger("destroy.dot"),n.data("dotdotdot-style",n.attr("style")||""),n.css("word-wrap","break-word"),"nowrap"===n.css("white-space")&&n.css("white-space","normal"),n.bind_events=function(){return n.bind("update.dot",function(t,r){switch(n.removeClass("is-truncated"),t.preventDefault(),t.stopPropagation(),typeof l.height){case"number":l.maxHeight=l.height;break;case"function":l.maxHeight=l.height.call(n[0]);break;default:l.maxHeight=u(n)}l.maxHeight+=l.tolerance,void 0!==r&&(("string"==typeof r||"nodeType"in r&&1===r.nodeType)&&(r=e("<div />").append(r).contents()),r instanceof e&&(a=r)),(m=n.wrapInner('<div class="dotdotdot" />').children()).contents().detach().end().append(a.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var c=!1,f=!1;return d.afterElement&&((c=d.afterElement.clone(!0)).show(),d.afterElement.detach()),o(m,l)&&(f="children"==l.wrap?i(m,l,c):s(m,n,m,l,c)),m.replaceWith(m.contents()),m=null,e.isFunction(l.callback)&&l.callback.call(n[0],f,a),d.isTruncated=f,f}).bind("isTruncated.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(n[0],d.isTruncated),d.isTruncated}).bind("originalContent.dot",function(e,t){return e.preventDefault(),e.stopPropagation(),"function"==typeof t&&t.call(n[0],a),a}).bind("destroy.dot",function(e){e.preventDefault(),e.stopPropagation(),n.unwatch().unbind_events().contents().detach().end().append(a).attr("style",n.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)}),n},n.unbind_events=function(){return n.unbind(".dot"),n},n.watch=function(){if(n.unwatch(),"window"==l.watch){var t=e(window),i=t.width(),s=t.height();t.bind("resize.dot"+d.dotId,function(){i==t.width()&&s==t.height()&&l.windowResizeFix||(i=t.width(),s=t.height(),f&&clearInterval(f),f=setTimeout(function(){n.trigger("update.dot")},100))})}else c=r(n),f=setInterval(function(){if(n.is(":visible")){var e=r(n);c.width==e.width&&c.height==e.height||(n.trigger("update.dot"),c=e)}},500);return n},n.unwatch=function(){return e(window).unbind("resize.dot"+d.dotId),f&&clearInterval(f),n};var l=e.extend(!0,{},e.fn.dotdotdot.defaults,t),d={},c={},f=null,m=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=e.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=e.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),d.afterElement=p(l.after,n),d.isTruncated=!1,d.dotId=h++,n.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&n.watch(),n},e.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},e.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","",",",";",".","!","?"],noEllipsis:[]}},e.fn.dotdotdot.debug=function(e){};var h=1,m=e.fn.html;e.fn.html=function(i){return i!=t&&!e.isFunction(i)&&this.data("dotdotdot")?this.trigger("update",[i]):m.apply(this,arguments)};var g=e.fn.text;e.fn.text=function(i){return i!=t&&!e.isFunction(i)&&this.data("dotdotdot")?(i=e("<div />").text(i).html(),this.trigger("update",[i])):g.apply(this,arguments)}}}(jQuery),jQuery(document).ready(function(e){e(".dot-ellipsis").each(function(){var t=e(this).hasClass("dot-resize-update"),i=e(this).hasClass("dot-timer-update"),s=0,n=e(this).attr("class").split(/\s+/);e.each(n,function(e,t){var i=t.match(/^dot-height-(\d+)$/);null!==i&&(s=Number(i[1]))});var o=new Object;i&&(o.watch=!0),t&&(o.watch="window"),s>0&&(o.height=s),e(this).dotdotdot(o)})}),jQuery(window).on("load",function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")}),function(e){window.ShuffleCustom=e(window.jQuery,window.CustomModernizr)}(function(e,t,i){"use strict";function s(e,t,i){for(var s=0,n=e.length;s<n;s++)if(t.call(i,e[s],s,e)==={})return}function n(t,i,s){return setTimeout(e.proxy(t,i),s)}function o(e){return Math.max.apply(Math,e)}function a(e){return Math.min.apply(Math,e)}function r(t){return e.isNumeric(t)?t:0}function l(e){var t,i,s=e.length;if(!s)return e;for(;--s;)t=e[i=Math.floor(Math.random()*(s+1))],e[i]=e[s],e[s]=t;return e}if("object"!=typeof t)throw new Error("Shuffle.js requires Modernizr.\nhttp://vestride.github.io/Shuffle/#dependencies");var d=t.prefixed("transition"),c=t.prefixed("transitionDelay"),f=t.prefixed("transitionDuration"),p={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[d],u=t.prefixed("transform"),h=function(e){return e?e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-"):""}(u),m=t.csstransforms&&t.csstransitions,g=t.csstransforms3d,v=function(e,t){this.x=r(e),this.y=r(t)};v.equals=function(e,t){return e.x===t.x&&e.y===t.y};var w=0,y=e(window),b=0,x=function(t,i,s){i=i||{},e.extend(this,x.options,i,x.settings),this.$el=e(t),this.id=b++,this.element=t,this.only_sort=s,this.unique="shuffle_"+w++,this._fire(x.EventType.LOADING),this._init(),n(function(){this.initialized=!0,this._fire(x.EventType.DONE)},this,16)};return x.EventType={LOADING:"loading",DONE:"done",LAYOUT:"layout",REMOVED:"removed"},x.ClassName={BASE:"shuffle",SHUFFLE_ITEM:"shuffle-item",FILTERED:"filtered",CONCEALED:"concealed"},x.options={group:"all",speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,initialSort:null,throttle:function(t,i,s){var n,o,a,r=null,l=0;s=s||{};var d=function(){l=!1===s.leading?0:e.now(),r=null,a=t.apply(n,o),n=o=null};return function(){var c=e.now();l||!1!==s.leading||(l=c);var f=i-(c-l);return n=this,o=arguments,f<=0||f>i?(clearTimeout(r),r=null,l=c,a=t.apply(n,o),n=o=null):r||!1===s.trailing||(r=setTimeout(d,f)),a}},throttleTime:100,sequentialFadeDelay:150,supported:m},x.settings={useSizer:!1,itemCss:{position:"absolute",top:0,left:0,visibility:"visible"},revealAppendedDelay:300,lastSort:{},lastFilter:"all",enabled:!0,destroyed:!1,initialized:!1,_animations:[],styleQueue:[]},x.Point=v,x._getItemTransformString=function(e,t){return g?"translate3d("+e.x+"px, "+e.y+"px, 0) scale3d("+t+", "+t+", 1)":"translate("+e.x+"px, "+e.y+"px) scale("+t+")"},x._getNumberStyle=function(t,i){return x._getFloat(e(t).css(i))},x._getInt=function(e){return r(parseInt(e,10))},x._getFloat=function(e){return r(parseFloat(e))},x._getOuterWidth=function(t,i){return e(t).outerWidth(!!i)},x._getOuterHeight=function(t,i){return e(t).outerHeight(!!i)},x._skipTransition=function(e,t,i){var s=e.style[f];e.style[f]="0ms",t.call(i);e.offsetWidth;e.style[f]=s},x.prototype._init=function(){if(this.$items=this._getItems(),!this.only_sort){this.sizer=this._getElementOption(this.sizer),this.sizer&&(this.useSizer=!0),this.$el.addClass(x.ClassName.BASE),this.containerWidth=x._getOuterWidth(this.element),this._itemMargin=this._getGutterSize(this.containerWidth),this._initItems(),y.on("resize.shuffle."+this.unique,this._getResizeFunction());var e=this.$el.css(["position","overflow"]),t=x._getOuterWidth(this.element);this._validateStyles(e),this._setColumns(t)}this.shuffle(this.group,this.initialSort),this.supported&&n(function(){this.destroyed||(this._setTransitions(),this.element.style[d]="height "+this.speed+"ms "+this.easing)},this)},x.prototype._getResizeFunction=function(){var t=e.proxy(this._onResize,this);return this.throttle?this.throttle(t,this.throttleTime):t},x.prototype._getElementOption=function(e){return"string"==typeof e?this.$el.find(e)[0]||null:e&&e.nodeType&&1===e.nodeType?e:e&&e.jquery?e[0]:null},x.prototype._validateStyles=function(e){"static"===e.position&&(this.element.style.position="relative"),e.overflow},x.prototype._filter=function(e,t){e=e||this.lastFilter,t=t||this.$items;var i=this._getFilteredSets(e,t);return this._toggleFilterClasses(i.filtered,i.concealed),this.lastFilter=e,"string"==typeof e&&(this.group=e),i.filtered},x.prototype._getFilteredSets=function(t,i){var n=e(),o=e();return"all"===t?n=i:s(i,function(i){var s=e(i);this._doesPassFilter(t,s)||s.is(".ff-ad")?n=n.add(s):o=o.add(s)},this),{filtered:n,concealed:o}},x.prototype._doesPassFilter=function(t,i){if(e.isFunction(t))return t.call(i[0],i,this);var s=i.data("groups"),n=this.delimeter&&!e.isArray(s)?s.split(this.delimeter):s;return e.inArray(t,n)>-1},x.prototype._toggleFilterClasses=function(e,t){e.removeClass(x.ClassName.CONCEALED).addClass(x.ClassName.FILTERED),t.removeClass(x.ClassName.FILTERED).addClass(x.ClassName.CONCEALED)},x.prototype._initItems=function(t,i,s){var n,o,a,r,l,d,c,f,p,u,h,m,g,w=this,y=t||this.$items,b=this.columnWidth(this.containerWidth,this._itemMargin),k=this.streamOpts.layout,C=this.streamOpts.trueLayout;if("carousel"===C){this.$el.data("slick")&&(l=this.$el.slick("slickCurrentSlide"),this.$el.slick("unslick").off("destroy").off("beforeChange"),this.$el.find(".ff-carousel-slide").each(function(){e(this).find(".ff-item").unwrap()}),s&&this.$el.append(t),this.$items=this._getItems(),this.$el.data("slick",null));for(var T=0;T<this.$items.length;T+=this.streamOpts.itemsPerSlide)this.$items.slice(T,T+this.streamOpts.itemsPerSlide).wrapAll("<div class='ff-carousel-slide'></div>");this._itemMargin>0&&(r=parseInt(this._itemMargin/2),(c=document.getElementById("ff-carousel-css"))&&c.parentNode.removeChild(c),this._addStyleSheet(".ff-stream-wrapper { padding: "+r+"px;} .ff-truelayout-carousel .ff-item {margin: "+r+"px}","ff-carousel-css"))}this.itemCss.width=b,this.gridLayout=k,i&&"carousel"!==C||(y.addClass([x.ClassName.SHUFFLE_ITEM,x.ClassName.FILTERED].join(" ")),y.css(this.itemCss).data("point",new v).data("scale",1)),"grid"===k?(n=this.streamOpts["g-ratio-h"]*b/this.streamOpts["g-ratio-w"],n=Math.floor(n),o=Math.floor(n*this._altEval(this.streamOpts["g-ratio-img"])),d=y.first(),a=d.find(".ff-item-meta").height(),(c=document.getElementById("ff-grid-css-"+this.streamOpts.id))&&c.parentNode.removeChild(c),this._addStyleSheet("#ff-stream-"+this.streamOpts.id+" .ff-item-cont { height: "+(n-44)+"px; /*overflow:hidden*/} #ff-stream-"+this.streamOpts.id+" .ff-ad .ff-item-cont { height: "+n+"px; overflow:hidden} #ff-stream-"+this.streamOpts.id+" .ff-has-overlay .ff-item-cont { height: "+n+"px; /*overflow:hidden*/} #ff-stream-"+this.streamOpts.id+" .ff-item .ff-img-holder{height: "+o+"px}#ff-stream-"+this.streamOpts.id+" .ff-has-overlay .ff-img-holder{height: "+n+"px}","ff-grid-css-"+this.streamOpts.id)):this.streamOpts.isOverlay&&(d=y.first(),a=d.find(".ff-item-meta").height()),y.each(function(t){var s,r,l,d,c,f,p,u,h,m,g,v,y,x=e(this),C=x.data(),T=C.media&&C.media.split(";"),S=x.find(".ff-img-holder img"),_={},I=w.streamOpts.isOverlay&&S.length;T?(r=(s={width:T[4]||T[0],height:T[5]||T[1]}).width&&s.height?w._calcImageProportion(b,s):0,S.css("minHeight",r)):S.length&&(T=S.data("size"))&&(r=(s={width:T.width,height:T.height}).width&&s.height?w._calcImageProportion(b,s):0,S.css("minHeight",r)),("grid"===k||I)&&(h=x.find(I?".ff-overlay-wrapper":".ff-item-cont"),p=x.find(".ff-content"),u=h.find("> h4"),m=h.children(),I&&(m=m.not(".ff-overlay")),"label1"===w.streamOpts["icon-style"]&&x.is(".ff-meta-first")||(m=m.not(".ff-label-wrapper")),v=parseInt(m.first().css("marginTop")),y=parseInt(m.last().css("marginBottom")),f=.07*b,g=(m.length-1)*f+v+y,c=u.length?u.height():0,(l=(n||r||S.height())-("ad"===x.data("type")?0:(S.length&&!I?o:0)+c+a+44)-g)<21&&(l=l>=20?20:c?0:l<0?21+l-f:l),_={height:l},p.css(_),0!==_.height&&p.length||(d=n-(S.length&&!I?o:0)-a-44-g,_={},(d=Math.floor(d))<=21&&(d>=20?(u.addClass("ff-header-min"),d=21):(d=d<0?21+d-f:d,_.textIndent="-9999px")),_.height=d,d<=0&&u.detach(),u.css(_)),i&&x.find(".ff-content").dotdotdot({ellipsis:"...",after:""}))}),"carousel"===C&&(g=this.streamOpts["c-autoplay"]?this.streamOpts["c-autoplay"].trim():"",p="yep"==this.streamOpts["c-arrows-always"]?"ff-arrows-always":"ff-arrows-hover",u="yep"==this.streamOpts["c-arrows-mob"]?"ff-arrows-mob":"",h="yep"==this.streamOpts["c-dots"]?"ff-dots-visible":"ff-dots-hidden",m="yep"==this.streamOpts["c-dots-mob"]?"ff-dots-mob":"",f={infinite:!0,dots:!0,slidesToShow:1,initialSlide:l||0,prevArrow:'<span class="flaticon-chevron-left slick-prev"></span>',nextArrow:'<span class="flaticon-chevron-right slick-next"></span>'},""!=g&&(f.autoplay=!0,f.autoplaySpeed=1e3*g),w.$el.slick(f).addClass(p+" "+h+" "+u+" "+m).on("destroy",function(){w.$el.trigger("slick-destroyed")}).on("beforeChange",function(e,t,i,s){s>i&&s===t.slideCount-1&&w.$el.trigger("slick-last-slide",{slick:t})}).data("slick",w.$el.slick("getSlick")))},x.prototype._calcImageProportion=function(e,t){var i=e/t.width;return Math.round(t.height*i)},x.prototype._addCSSRule=function(e,t,i){if(e&&e.cssRules){for(var s=e.cssRules.length-1,n=s;n>0;n--){var o=e.cssRules[n];o.selectorText===t&&(i=o.style.cssText+i,e.deleteRule(n),s=n)}return e.insertRule?e.insertRule(t+"{"+i+"}",s):e.addRule(t,i,s),e.cssRules[s].cssText}},x.prototype._altEval=function(e){return new Function("return "+e)()},x.prototype._addStyleSheet=function(e,t){var i=document.createElement("style");return i.type="text/css",t&&(i.id=t),/WebKit|MSIE/i.test(navigator.userAgent)?i.styleSheet?i.styleSheet.cssText=e:i.innerText=e:i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i},x.prototype._updateItemCount=function(){this.visibleItems=this._getFilteredItems().length},x.prototype._setTransition=function(e){e.style[d]=h+" "+this.speed+"ms "+this.easing+", opacity "+this.speed+"ms "+this.easing},x.prototype._setTransitions=function(e){s(e=e||this.$items,function(e){this._setTransition(e)},this)},x.prototype._setSequentialDelay=function(e){this.supported&&s(e,function(e,t){e.style[c]="0ms,"+(t+1)*this.sequentialFadeDelay+"ms"},this)},x.prototype._getItems=function(){return this.$el.find(this.itemSelector)},x.prototype._getFilteredItems=function(){return this.destroyed?e():this.$items.filter("."+x.ClassName.FILTERED)},x.prototype._getConcealedItems=function(){return this.$items.filter("."+x.ClassName.CONCEALED)},x.prototype._getColumnSize=function(t,i){var s;return 0===(s=e.isFunction(this.columnWidth)?this.columnWidth(t,i):this.useSizer?x._getOuterWidth(this.sizer):this.columnWidth?this.columnWidth:this.$items.length>0?x._getOuterWidth(this.$items[0],!0):t)&&(s=t),s+i},x.prototype._getGutterSize=function(t){return e.isFunction(this.gutterWidth)?this.gutterWidth(t):this.useSizer?x._getNumberStyle(this.sizer,"marginLeft"):this.gutterWidth},x.prototype._setColumns=function(e){var t=e||x._getOuterWidth(this.element),i=this._itemMargin=this._getGutterSize(t),s=this._getColumnSize(t,i);this.containerWidth=t;var n=((t-=2*i)+i)/s;this.cols=Math.max(Math.floor(n),1),this.colWidth=s},x.prototype._setContainerSize=function(){this.$el.css("height",this._getContainerSize())},x.prototype._getContainerSize=function(){return o(this.positions)},x.prototype._fire=function(e,t){this.$el.trigger(e+".shuffle",t&&t.length?t:[this])},x.prototype._resetCols=function(){var e=this.cols;for(this.positions=[];e--;)this.positions.push(0)},x.prototype._layout=function(e,t){var i=this;s(e,function(e){i._layoutItem(e,!!t)},i),i._processStyleQueue(),i._setContainerSize()},x.prototype._layoutItem=function(t,i){var s=e(t),n=s.data(),o=(n.point,n.scale,{width:x._getOuterWidth(t,!0),height:x._getOuterHeight(t,!0)}),a=this._getItemPosition(o);n.point=a,n.scale=1,this.styleQueue.push({$item:s,point:a,scale:1,width:this.itemCss.width,opacity:i?0:1,skipTransition:i,callfront:function(){i||s.css("visibility","visible")},callback:function(){i&&s.css("visibility","hidden")}})},x.prototype._getItemPosition=function(e,t){var i=this._getColumnSpan(e.width,this.colWidth,this.cols),s=this._getColumnSet(i,this.cols),n=this._getShortColumn(s,this.buffer),o=Math.round((this.containerWidth-(e.width*this.cols+this._itemMargin*(this.cols-1)))/2),a=new v(Math.round(this.colWidth*n+(o>0?o:0)),Math.round(s[n]));0!=a.y&&(a.y=a.y+this._itemMargin);for(var r=s[n]+e.height+(0!=a.y?this._itemMargin:0),l=this.cols+1-s.length,d=0;d<l;d++)this.positions[n+d]=r;return a},x.prototype._getColumnSpan=function(e,t,i){var s=e/t;return Math.abs(Math.round(s)-s)<.3&&(s=Math.round(s)),Math.min(Math.ceil(s),i)},x.prototype._getColumnSet=function(e,t){if(1===e)return this.positions;for(var i=t+1-e,s=[],n=0;n<i;n++)s[n]=o(this.positions.slice(n,n+e));return s},x.prototype._getShortColumn=function(e,t){for(var i=a(e),s=0,n=e.length;s<n;s++)if(e[s]>=i-t&&e[s]<=i+t)return s;return 0},x.prototype._shrink=function(t){s(t||this._getConcealedItems(),function(t){var i=e(t),s=i.data();.001!==s.scale&&(s.scale=.001,this.styleQueue.push({$item:i,point:s.point,scale:.001,opacity:0,callback:function(){i.css({visibility:"hidden"})}}))},this)},x.prototype._onResize=function(){if(this.enabled&&!this.destroyed&&!this.isTransitioning){var e=x._getOuterWidth(this.element);if(e!==this.containerWidth){if(this.containerWidth=e,this._itemMargin=this._getGutterSize(this.containerWidth),"grid"===this.gridLayout){var t=document.getElementById("ff-grid-css-"+this.streamOpts.id),i=document.getElementById("ff-carousel-css");t.parentNode.removeChild(t),i&&i.parentNode.removeChild(i)}this._initItems(this.$items,!0),this.update()}}},x.prototype._getStylesForTransition=function(e,t){var i={opacity:e.opacity};return e.width&&(i.width=e.width),this.supported?i[u]=x._getItemTransformString(e.point,e.scale):(i.left=e.point.x,i.top=e.point.y),i},x.prototype._transition=function(t){var i=this._getStylesForTransition(t);t.$item.data("keep-pos")?(t.$item.removeData("keep-pos"),n(function(){this._startItemAnimation(t.$item,i,t.callfront||e.noop,t.callback||e.noop)},this,1e3)):this._startItemAnimation(t.$item,i,t.callfront||e.noop,t.callback||e.noop)},x.prototype._startItemAnimation=function(t,i,s,n){function o(t){t.target===t.currentTarget&&(e(t.target).off(p,o),n())}if(s(),!this.initialized)return t.css(i),void n();if(this.supported)t.css(i),t.on(p,o);else{var a=t.stop(!0).animate(i,this.speed,"swing",n);this._animations.push(a.promise())}},x.prototype._processStyleQueue=function(t){var i=e();s(this.styleQueue,function(e){e.skipTransition?this._styleImmediately(e):(i=i.add(e.$item),this._transition(e))},this),i.length>0&&this.initialized?(this.isTransitioning=!0,this.supported?(this._whenCollectionDone(i,p,this._movementFinished),this.isTransitioning=!1):(this._whenAnimationsDone(this._movementFinished),this.isTransitioning=!1)):t||n(this._layoutEnd,this),this.styleQueue.length=0},x.prototype._styleImmediately=function(e){x._skipTransition(e.$item[0],function(){e.$item.css(this._getStylesForTransition(e))},this)},x.prototype._movementFinished=function(){this._layoutEnd()},x.prototype._layoutEnd=function(){this.destroyed||this._fire(x.EventType.LAYOUT)},x.prototype._addItems=function(e,t,i){this._initItems(e,!1,!0),this._setTransitions(e),this.$items=this._getItems(),this._shrink(e),s(this.styleQueue,function(e){e.skipTransition=!0}),this._processStyleQueue(!0),t?this._addItemsToEnd(e,i):this.shuffle(this.lastFilter)},x.prototype._addItemsToEnd=function(e,t){var i=this._filter(null,e).get();this._updateItemCount(),this._layout(i,!0),t&&this.supported&&this._setSequentialDelay(i),this._revealAppended(i)},x.prototype._revealAppended=function(t){n(function(){s(t,function(t){var i=e(t);this._transition({$item:i,opacity:1,point:i.data("point"),scale:1})},this),this._whenCollectionDone(e(t),p,function(){e(t).css(c,"0ms"),this._movementFinished()})},this,this.revealAppendedDelay)},x.prototype._whenCollectionDone=function(t,i,s){function n(t){t.target===t.currentTarget&&(e(t.target).off(i,n),++o===a&&s.call(r))}var o=0,a=t.length,r=this;t.on(i,n)},x.prototype._whenAnimationsDone=function(t){e.when.apply(null,this._animations).always(e.proxy(function(){this._animations.length=0,t.call(this)},this))},x.prototype.shuffle=function(e,t){this.enabled&&!this.isTransitioning&&(e||(e="all"),this._filter(e),this._updateItemCount(),this._shrink(),this.sort(t))},x.prototype.sort=function(e){if(this.enabled&&!this.isTransitioning){this._resetCols();var t=e||this.lastSort,i=this._getFilteredItems().sorted(t);this._layout(i),this.lastSort=t}},x.prototype.update=function(t){var i=this;this.enabled&&!this.isTransitioning&&(t||(this._setColumns(),this.$items.css("width",this.colWidth-this._itemMargin),this.$items.each(function(t,s){var n=e(this),o=n.data(),a=o.media&&o.media.split(";");if(a){var r={width:a[4],height:a[5]},l=i._calcImageProportion(i.colWidth-i._itemMargin,r);n.find(".ff-img-holder img").css("minHeight",l)}}),this.itemCss.width=this.colWidth-this._itemMargin),i.sort())},x.prototype.layout=function(){this.destroyed||this.update(!0)},x.prototype.appended=function(e,t,i){this._addItems(e,!0,!0)},x.prototype.disable=function(){this.enabled=!1},x.prototype.enable=function(e){this.enabled=!0,!1!==e&&this.update()},x.prototype.remove=function(t){t.length&&t.jquery&&(this._toggleFilterClasses(e(),t),this._shrink(t),this.sort(),this.$el.one(x.EventType.LAYOUT+".shuffle",e.proxy(function(){t.remove(),this.$items=this._getItems(),this._updateItemCount(),this._fire(x.EventType.REMOVED,[t,this]),t=null},this)))},x.prototype.destroy=function(){y.off("."+this.unique),this.$el.removeClass("shuffle").removeAttr("style").removeData("shuffle"),this.$items.removeAttr("style").removeData("point").removeData("scale").removeClass([x.ClassName.CONCEALED,x.ClassName.FILTERED,x.ClassName.SHUFFLE_ITEM].join(" ")),this.$items=null,this.$el=null,this.sizer=null,this.element=null,this.destroyed=!0},e.fn.shuffleCustom=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=e(this),n=s.data("shuffle");n?"string"==typeof t&&n[t]&&n[t].apply(n,i):(n=new x(this,t,"only_sort"===i[1]),s.data("shuffle",n))})},e.fn.sorted=function(t){var s=e.extend({},e.fn.sorted.defaults,t),n=this.get(),o=!1;return n.length?s.randomize?l(n):(e.isFunction(s.by)&&n.sort(function(t,n){if(o)return 0;var a=s.by(e(t)),r=s.by(e(n));return a===i&&r===i?(o=!0,0):a<r||"sortFirst"===a||"sortLast"===r?-1:a>r||"sortLast"===a||"sortFirst"===r?1:0}),o?this.get():(s.reverse&&n.reverse(),n)):[]},e.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},x}),function(e,t){var i,s=e.jQuery||e.Cowboy||(e.Cowboy={});s.throttleCustom=i=function(e,i,n,o){function a(){function s(){l=+new Date,n.apply(a,c)}var a=this,d=+new Date-l,c=arguments;o&&!r&&s(),r&&clearTimeout(r),o===t&&d>e?s():!0!==i&&(r=setTimeout(o?function(){r=t}:s,o===t?e-d:e))}var r,l=0;return"boolean"!=typeof i&&(o=n,n=i,i=t),s.guid&&(a.guid=n.guid=n.guid||s.guid++),a},s.debounce=function(e,s,n){return n===t?i(e,s,!1):i(e,n,!1!==s)}}(this),function(e){"use strict";var t=null,i=!1,s=e(window),n=function(t){var i=this;if(e.extend(i,n.options,t,n.settings),!e.isFunction(i.enter))throw new TypeError("Viewport.add :: No `enter` function provided in Viewport options.");"string"==typeof i.threshold&&i.threshold.indexOf("%")>-1?(i.isThresholdPercentage=!0,i.threshold=parseFloat(i.threshold)/100):i.threshold<1&&i.threshold>0&&(i.isThresholdPercentage=!0),i.hasLeaveCallback=e.isFunction(i.leave),i.$element=e(i.element),i.idx=t.idx,i.update()};n.prototype.update=function(e){var t=this;t.offset=t.relativeToParentElem?t.$element.position():t.$element.offset(),e||(t.height=t.$element.height(),t.$element.data("height",t.height))},n.options={threshold:200,delay:0},n.settings={triggered:!1,isThresholdPercentage:!1};var o=function(e,t){return this.init(e,t)};o.prototype={init:function(t,i){var s=this;return s.list=[],s.lastScrollY=0,s.$container=e(i),s.windowHeight=s.$container.height(),s.windowWidth=s.$container.width(),s.container=i,s.opts=t,s.screenSize={w:s.windowWidth,h:s.windowHeight},s.throttleTime=100,s.$doc=e(document),s.onResize(),s.bindEvents(),s.willProcessNextFrame=!0,requestAnimationFrame(function(){s.setScrollTop(s.container),s.process("init"),s.willProcessNextFrame=!1}),s},bindEvents:function(){var t=this;s.on("resize.viewport",e.proxy(t.onResize,t)),i||(t.$doc.on("ff-comments-loaded",function(i,s){if(s.$slide&&void 0!==s.idx){var n,o=s.$slide,a=o.data(),r=o.height();a.height!=r&&(n=t.list.slice(s.idx+1,t.list.length),e.each(n,function(e,t){t.offset.top=t.offset.top+(r-a.height)}))}}),i=!0),t.opts.viewportin&&t.$container.on("scroll.viewport",e.throttleCustom(t.throttleTime,e.proxy(t.onScroll,t))),t.hasActiveHandlers=!0},unbindEvents:function(){s.add(this.$container).off(".viewport"),this.hasActiveHandlers=!1},maybeUnbindEvents:function(){var e=this;e.list.length||e.unbindEvents()},add:function(e){var t=this;t.list.push(e),t.hasActiveHandlers||t.bindEvents(),t.willProcessNextFrame||(t.willProcessNextFrame=!0,requestAnimationFrame(function(){t.willProcessNextFrame=!1,t.process("add")}))},saveDimensions:function(){var t=this;e.each(t.list,function(e,t){t.update()}),t.windowHeight=s.height(),t.windowWidth=s.width(),t.screenSize={w:t.windowWidth,h:t.windowHeight}},onScroll:function(e){var t=this;t.list.length&&(t.setScrollTop(e.currentTarget),t.process("scroll"))},onResize:function(){this.refresh()},refresh:function(){this.list.length&&this.saveDimensions()},refreshOffsets:function(){this.list.length&&e.each(this.list,function(e,t){t.update("offsetOnly")})},isInViewport:function(e){var t,i,s=this,n=e.offset,o=e.threshold,a=o,r=s.lastScrollY;return e.isThresholdPercentage&&(o=0),t=s.isTopInView(r,s.windowHeight,n.top,e.height,o,e),i=s.isBottomInView(r,s.windowHeight,n.top,e.height),t&&e.isThresholdPercentage&&(t=s.isTopPastPercent(r,s.windowHeight,n.top,e.height,a)),t||i},isTopInView:function(e,t,i,s,n,o){var a=e+t;return i+n>=e&&i+n<a},isTopPastPercent:function(e,t,i,s,n){return(e+t-i)/t>=n},isOutOfViewport:function(e,t){var i,s=this,n=e.offset,o=s.lastScrollY;return"bottom"===t&&(i=!s.isBottomInView(o,s.windowHeight,n.top,e.height)),i},isBottomInView:function(e,t,i,s){var n=e+t,o=i+s;return o>e&&o<=n},triggerEnter:function(t){var i=this;setTimeout(function(){t.enter.call(t.element,t)},t.delay),e.isFunction(t.leave)?t.triggered=!0:i.list.splice(e.inArray(t,i.list),1),i.maybeUnbindEvents()},getScreenSize:function(){return this.screenSize},triggerLeave:function(e){setTimeout(function(){e.leave.call(e.element,e)},e.delay),e.triggered=!1},setScrollTop:function(t){var i=this.lastScrollY,s=e(t).scrollTop();this.$container.trigger("scroll-direction",{direction:s>i?"down":"up",previousScroll:i,currentScroll:s}),this.lastScrollY=s},process:function(t){var i=this,s=e.extend([],i.list);e.each(s,function(e,t){var s=i.isInViewport(t),n=t.hasLeaveCallback&&i.isOutOfViewport(t,"bottom");return!t.triggered&&s?(i.opts.observeLast&&t.idx>=i.list.length-3&&i.$container.trigger("second-to-last-in-the-view",{viewportItem:t,viewport:i}),i.triggerEnter(t)):!s&&n&&t.triggered?i.triggerLeave(t):void 0})}},o.add=function(e){return o.getInstance(e).add(new n(e))},o.refresh=function(){o.getInstance().refresh()},o.getInstance=function(e,i){return t||(t=new o(e,i)),t},window.FF_Viewport=o,window.FF_ViewportItem=n}(window.jQuery),function(e,t,i){"use strict";function s(e,t){e.style.WebkitTransform=t,e.style.msTransform=t,e.style.transform=t}function n(){var t=l.clientWidth,i=e.innerWidth;return t<i?i:t}function o(){var t=l.clientHeight,i=e.innerHeight;return t<i?i:t}function a(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function r(e,t){return this.el=e[0],this.$el=e,this.options=a({},this.options),a(this.options,t),this._init()}var l=e.document.documentElement,d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[t.prefixed("transition")],c={transitions:t.csstransitions,support3d:t.csstransforms3d};r.prototype.options={},r.prototype._init=function(){return this.$body=i("body"),this.grid=this.el.querySelector(".ff-stream-wrapper"),this.gridItems=[].slice.call(this.grid.querySelectorAll(".ff-item:not(.ff-ad)")),this.gridItems.length||(this.gridItems=[].slice.call(this.grid.querySelectorAll("li[class*=ff-slide]"))),this.itemsCount=this.gridItems.length,this.$wrapper=this.$el.find(".ff-slideshow-classic"),this.slideshow=this.el.querySelector(".ff-slideshow-classic > ul"),this.$slideshow=i(this.slideshow),this.$slideshow.data("media",!1),this.$wrapper.addClass("ff-"+this.options.iconStyle+"-icon"),this._addSlideShowItems(this.gridItems),this.slideshowItems=[].slice.call(this.slideshow.children),this.current=-1,this.ctrlPrev=this.el.querySelector(".ff-nav-prev"),this.ctrlNext=this.el.querySelector(".ff-nav-next"),this.ctrlClose=this.el.querySelector(".ff-nav-close"),this.plugin=this.$el.data("plugin"),this._initEvents(),this},r.prototype._addSlideShowItems=function(t,s,n,o,a){var r=this,l=i(),d=n?640:600,c=r.$el?r.$el.data("size"):t[0]?i(t[0]).closest(".ff-stream").data("size"):"large";if(t.forEach(function(t,s){var f,p,u,h,m,g,v,w,y,b,x,k,C,T=-1!=t.className.indexOf("ff-slide")?i(t).data("original-element"):i(t),S=i('<li><div class="ff-slide-wrapper"></div></li>'),_=S.find(".ff-slide-wrapper"),I=T.find(".picture-item__inner").children().clone(),$=T.attr("data-type"),O="",E=!1,A=FlowFlowOpts.view_on+" "+$,F=T.attr("data-media");if("rss"!=$&&"posts"!=$||(A=FlowFlowOpts.view_on_site),F?(n||r.$slideshow.data("media",!0),u=F.split(";"),g=parseInt(u[0]),h=parseInt(u[1]),v=u[2],m=u[3],"instagram"===$&&"image"!==m&&(v.indexOf(".jpg")+1||v.indexOf(".png")+1)&&(m="image"),_.data("media",F),n&&(h*=d/g,g=d),"large"!=c&&(d=e.innerWidth,h*=d/g,g=d),f=i('<div class="ff-media-wrapper'+("image"==m?"":" ff-video")+'" style="'+(n?"height:"+h+"px;":"")+"max-height: "+h+'px;"></div>'),_.prepend(f),"image"==m?(w=h/g,!n&&h>1e3&&(g*=1e3/h,h=1e3),(g>d||n)&&(h*=d/g,g=d),O='<span class="ff-img-holder '+(w>1?" ff-img-portrait":" ff-img-landscape")+'"'+(n?"":' style="width: '+g+"px; max-height: "+h+"px; height: "+h+'px;"')+'><img class="ff-initial-image" src="'+v+'"/></span>',f.addClass("ff-slide-img-loading").data("media-image",u[2])):m.indexOf("video/mp4")+1?(O='<video controls width="'+g+'" height="'+h+'"><source src="'+u[2]+'" type="video/mp4">Your browser does not support the video tag.</video>',f.addClass("ff-slide-img-loading")):(v=v.replace("http:","").replace("https:","").replace("/v/","/embed/").replace("autoplay=1","autoplay=0").replace('autoplay="1"','autoplay="0"')+("vimeo"!=$?"&fs=0&enablejsapi=1&mute=0":""),n&&(h*=d/g,g=d),O='<iframe width="'+g+'" height="'+h+'" src="'+v+'" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" webkitallowfullscreen mozallowfullscreen autoplay="0" wmode="opaque" data-controls="true" allow="encrypted-media"></iframe>',v.indexOf("facebook.com/video/embed")+1&&f.after('<span class="ff-cta">(Click image to play video)</span>'),f.addClass("ff-slide-img-loading")),f.data("media",O),I.find(".ff-img-holder").remove()):I.find(".ff-img-holder").length?I.find(".ff-img-holder").each(function(e,t){var s=i(this),n=i(this).find("img"),o=n.get(0);E?s.remove():(s.removeClass("ff-img-loading").addClass("ff-img-loaded").css({"background-image":'url("'+o.src+'")',width:parseInt(o.style.width),height:parseInt(o.style.height)}),n.remove(),E=!0,h=parseInt(o.style.height))}):(f=i('<div class="ff-media-wrapper"></div>'),_.prepend(f),h="initial"),_.append(I.not(".ff-img-holder")),n&&_.prepend('<div class="ff-item-header"></div>'),p=_.find(".ff-item-cont"),b=T.find(".ff-moderation-wrapper"),p.append(S.find("h4")),p.append(S.find(".ff-article")),p.append(S.find(".ff-item-meta")),p.find(".ff-userpic").append(S.find(".ff-icon")),p.find(".ff-item-meta").prepend(p.find(".ff-userpic")).append(_.find(".ff-item-bar")).append(_.find(".ff-name")),p.find(".ff-name").removeClass("ff-name").addClass("ff-external-link").html(A).attr("href",p.find(".ff-timestamp").attr("href")),n?(_.find(".ff-item-header").append('<div class="ff-dropdown"></div>').prepend(p.find(".ff-userpic")).prepend(p.find(".ff-nickname")),b.length&&_.prepend(b.clone())):p.find(".ff-item-meta").append('<div class="ff-dropdown"></div>'),_.find(".ff-dropdown").append(p.find(".ff-external-link")).append(p.find(".ff-share-wrapper")).append('<span class="flaticon-share2"></span>'),p.find(".ff-item-bar").append(p.find(".ff-timestamp")).append(p.find(".ff-location")),p.find(".ff-item-bar").before(p.find(".ff-content")),p.find(".ff-content").prepend(p.find("h4")),""!=p.find(".ff-content").html()&&p.find(".ff-content").addClass("not-empty"),h="initial"==h?h:h<420?"420px":h>1e3?"1000px":h+"px",n||(p.closest(".ff-slide-wrapper").css("max-height",h),p.css("height",h)),"twitter"==$&&p.find(".ff-comments").remove(),p.append('<div class="ff-comments-list"><div class="ff-comments-list-inner"><div class="ff-slide-loader"><span>'+FlowFlowOpts.loading+"...</span></div></div></div>"),S.attr("data-type",T.attr("data-type")).attr("post-id",T.attr("post-id")).attr("data-feed",T.attr("data-feed")),T.hasClass("ff-supports-comments")){S.addClass("ff-supports-comments ff-slide-"+$+(F?" ff-slide-media":" ff-slide-no-media"));var M=p.find(".ff-item-meta").outerHeight(),z=h-M;p.find(".ff-comments-list").css("min-height",z+"px")}else S.addClass("ff-no-comments ff-slide-"+$+(F?" ff-slide-media":" ff-slide-no-media"));if(T.data("opts")){var N=T.data("opts");if(N.cta&&N.cta.ltext){var P=i('<a class="ff-post-cta" '+("yep"==N.cta.new?'target="_blank"':"")+'href="'+N.cta.url+'"><span>'+N.cta.ltext+'</span><i class="ff-icon-arrow"></i></a>');n?p.prepend(P):p.find(".ff-item-meta").after(P),_.data("cta",!0)}}if(l=l.add(S),o){if(y=S.clone(!0),_=y.find(".ff-slide-wrapper"),a)for(x={text:y.find(".ff-item-cont").detach(),image:y.find(".ff-media-wrapper").detach(),meta:y.find(".ff-item-header").detach()},k=0,C=a.length;k<C;k++)_.append(x[a[k]]);T.before(y).detach(),y.data("original-element",T)}}),n)return l;r.$slideshow.append(l),s&&(r.gridItems=r.gridItems.concat(t)),r.$slideshow.data("media")&&r.$slideshow.addClass("ff-slideshow-media")},r.prototype._initEvents=function(t){var s=this;this.initItemsEvents(this.gridItems),i(this.ctrlPrev).on("click",function(){s._navigate("prev")}),i(this.ctrlNext).on("click",function(){s._navigate("next")}),i(this.ctrlClose).on("click",function(){s._closeSlideshow()}),this.$wrapper.on("click",function(e){i(e.target).closest("li, nav").length||s._closeSlideshow()}),i(e).on("resize",function(){s._resizeHandler()}),i(document).on("keydown",function(e){if(s.isSlideshowVisible)switch(e.keyCode||e.which){case 37:s._navigate("prev");break;case 39:s._navigate("next");break;case 27:s._closeSlideshow()}}),this.$wrapper.on("touchmove",function(e){e.stopPropagation()})},r.prototype.initItemsEvents=function(e,t){var s=this,n=i(this.grid).data("opts")&&i(this.grid).data("opts").titles;t=t||0,e.forEach(function(e,o){var a=i(e);a.on("click",function(e){var r=i(this).closest(".ff-stream").data("plugin"),l=i(e.target),d=l.closest("a"),c=l.closest("h4").length,f=l.closest(".ff-icon-share").length,p=l.closest(".ff-moderation-wrapper").length,u=a.data("opts"),h=d.length&&!l.is("img");if(d.is(".ff-post-cta")){if(u&&u.cta&&"yep"!=u.cta.open)return}else if(h||f||p){if("yep"===n&&c)return;if(!c)return}e.preventDefault(),s._openSlideshow(r,o+t)})})},r.prototype._freezeScroll=function(e){i(".ff-item-cont:hover").length>0||e.preventDefault()},r.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar(),this.scrollbarWidth>0&&(this.scrollbarVisible=!0)},r.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},r.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},r.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="ff-modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t},r.prototype.loadCommentsAndCarousel=function(e,t,s){var n=this.$slideshow.find('[post-id="'+s+'"]'),o=n.find(".ff-comments-list-inner");if("added"!==o.data("comments")&&"added"!==n.data("carousel")){var a=i.get(FlowFlowOpts.ajaxurl,{shop:FlowFlowOpts.domain,action:e+"_load_comments_and_carousel",feed_id4post:t,post_id:s,permalink:n.find("a.ff-timestamp").attr("href")});o.find(".ff-slide-loader").show(),i.when(a).then(function(e){var t="",i=e.comments,s=n.find(".ff-comments span").text();i&&0!==i.length?i.forEach(function(e,i,s){var o,a,r="string"==typeof e.from&&e.from&&"Facebook user"!==e.from&&-1!=e.from.indexOf("{")?JSON.parse(e.from):e.from,l=e.text;"instagram"==n.data("type")&&(a="https://www.instagram.com/"+(o=r.username)),"facebook"==n.data("type")&&(o=r&&r.name?r.name:r||"",a="https://www.facebook.com/"+(r?r.id:"")),"youtube"==n.data("type")&&(o=r.full_name,a="https://www.youtube.com/channel/"+r.id),"posts"==n.data("type")&&(a="/author/"+(o=r.name)),t+='<div class="ff-slide-comment">',o?(t+='<a href="'+a+'" rel="noreferrer" target="_blank" title="'+o+'">',t+="<b>"+o+"</b>",t+="</a>",t+="<span>"+l+"</span>"):t+='<span>"'+l+'"</span>',t+="</div>"}):parseInt(s)>0?t+='<div><a href="'+n.find(".ff-comments").attr("href")+'" rel="noreferrer" target="_blank">'+(FlowFlowOpts&&FlowFlowOpts.check_first?FlowFlowOpts.check_first:"Check all comments &rarr;")+"</a></div>":t+="<div>"+(FlowFlowOpts&&FlowFlowOpts.no_comments?FlowFlowOpts.no_comments:"No comments yet.")+' <a href="'+n.find(".ff-comments").attr("href")+'" rel="noreferrer" target="_blank">'+(FlowFlowOpts&&FlowFlowOpts.be_first?FlowFlowOpts.be_first:"Be the first!")+"</a></div>",o.html(t).data("comments","added"),setTimeout(function(){o.addClass("ff-comments-loaded")},0);var a=e.carousel;if(!(a.length<2)){var r=n.find(".ff-img-holder").outerWidth(),l=n.find(".ff-img-holder").outerHeight();n.find(".ff-media-wrapper").css("width",r+"px").css("height",l+"px"),n.find(".ff-media-wrapper").find(".ff-slideshow-carousel").remove(),n.find(".ff-media-wrapper").append('<div class="ff-slideshow-carousel" style="height:'+l+'px"></div>'),a.forEach(function(e,t){if("image"==e.media_type||"photo"==e.media_type||e.media_url.indexOf(".jpg")+1||e.media_url.indexOf(".png")+1)var i='<span class="ff-img-holder" style="background-image: url('+e.media_url+')">';n.find(".ff-slideshow-carousel").append(i)});var d={adaptiveHeight:!0,infinite:!0,arrows:!0,dots:!0,slidesToShow:1,slidesToScroll:1,prevArrow:'<span class="ff-arrow-left slick-prev slick-nav"></span>',nextArrow:'<span class="ff-arrow-right slick-next slick-nav"></span>'};n.find(".ff-media-wrapper > .ff-img-holder").hide(),n.find(".ff-slideshow-carousel").slick(d),n.data("carousel","added")}},function(e){o.html("Sorry, something went wrong during loading comments for this post. Try to re-open lightbox.")})}},r.prototype._openSlideshow=function(e,t){this.isSlideshowVisible=!0,this.current=t,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("ff-modal-open"+(this.scrollbarVisible?" ff-modal-scrollbar":""));var a=this;a._setViewportItems();var r=i(a.currentItem),l=i(a.nextItem),d=i(a.prevItem),f=n(),p=o();a.$curr=r,this.loadCommentsAndCarousel(e,r.attr("data-feed"),r.attr("post-id")),r.find(".ff-media-wrapper").each(function(e,t){var s=i(this),n=s.parent().parent().data("type");if(s.data("media")&&"inserted"!==s.data("media")){if(s.data("media-image")){var o=new Image;o.src=s.data("media-image"),o.onload=function(){s.removeClass("ff-slide-img-loading")}}else s.removeClass("ff-slide-img-loading");"soundcloud"==n?s.parent().parent().find(".ff-item-meta").after(s.data("media")):s.append(s.data("media")),s.data("media","inserted")}}),l.add(d).find(".ff-media-wrapper").each(function(e,t){var s=i(this),n=s.data("media"),o=s.parent().parent().data("type");if(n&&"inserted"!==n&&!/iframe|video/.test(n)){if(s.data("media-image")){var a=new Image;a.src=s.data("media-image"),a.onload=function(){s.removeClass("ff-slide-img-loading")}}else s.removeClass("ff-slide-img-loading");"soundcloud"==o?s.parent().parent().find(".ff-item-meta").after(s.data("media")):s.append(s.data("media")),s.data("media","inserted")}}),r.addClass("ff-current ff-show"),setTimeout(function(){r.addClass("ff-show-cta")},2e3);var u=parseInt(Number(a.currentItem.offsetHeight/2*1));if(2*u>p?u=parseInt(p/2)-25:u-=25,s(a.currentItem,c.support3d?"translate3d("+parseInt(Number(a.currentItem.offsetWidth/2*-1))+"px, -"+u+"px, 0px)":"translate(-50%, -50%)"),a.prevItem){d.addClass("ff-show");h=Number(-1*(f/2+a.prevItem.offsetWidth/2));s(a.prevItem,c.support3d?"translate3d("+(h+100)+"px, -50%, 0px)":"translate("+h+"px, -50%)")}if(a.nextItem){l.addClass("ff-show");var h=Number(f/2+a.nextItem.offsetWidth/2);s(a.nextItem,c.support3d?"translate3d("+(h-100)+"px,-50%, 0px)":"translate("+h+"px, -50%)")}setTimeout(function(){a.$wrapper.addClass("ff-slideshow-open").scrollTop(0)},200)},r.prototype._navigate=function(e){if(!this.isAnimating)if("next"===e&&this.current===this.itemsCount-1||"prev"===e&&0===this.current)this._closeSlideshow();else{if("next"===e&&this.current<this.itemsCount)t=this.current+1;if("prev"===e&&this.current>0)var t=this.current-1;this.loadCommentsAndCarousel(this.plugin,this.gridItems[t].attributes["data-feed"].value,this.gridItems[t].attributes["post-id"].value),this.isAnimating=!0,this._setViewportItems();var a,r,l,f=this,p=n(),u=o(),h=this.currentItem.offsetWidth,m=c.support3d?"translate3d(-"+Number(p/2+h/2)+"px, -50%, -150px)":"translate(-"+Number(p/2+h/2)+"px, -50%)",g=c.support3d?"translate3d("+Number(p/2+h/2)+"px, -50%, -150px)":"translate("+Number(p/2+h/2)+"px, -50%)";"next"===e?(a=c.support3d?"translate3d( -"+Number(2*p/2+h/2)+"px, -50%, -150px )":"translate(-"+Number(2*p/2+h/2)+"px, -50%)",r=c.support3d?"translate3d( "+Number(2*p/2+h/2)+"px, -50%, -150px )":"translate("+Number(2*p/2+h/2)+"px, -50%)"):(a=c.support3d?"translate3d( "+Number(2*p/2+h/2)+"px, -50%, -150px )":"translate("+Number(2*p/2+h/2)+"px)",r=c.support3d?"translate3d( -"+Number(2*p/2+h/2)+"px, -50%, -150px )":"translate(-"+Number(2*p/2+h/2)+"px, -50%)"),f.$slideshow.removeClass("ff-animatable"),("next"===e&&this.current<this.itemsCount-2||"prev"===e&&this.current>1)&&(s(l=this.slideshowItems["next"===e?this.current+2:this.current-2],r),i(l).addClass("ff-show").find(".ff-media-wrapper").each(function(e,t){var s=i(this),n=s.data("media"),o=s.parent().parent().data("type");if(n&&"inserted"!==n&&!/iframe|video/.test(n)){if(s.data("media-image")){var a=new Image;a.src=s.data("media-image"),a.onload=function(){s.removeClass("ff-slide-img-loading")}}else s.removeClass("ff-slide-img-loading");"soundcloud"==o?s.parent().parent().find(".ff-item-meta").after(s.data("media")):s.prepend(s.data("media")),s.data("media","inserted")}}));setTimeout(function(){var t;f.$slideshow.addClass("ff-animatable"),f.$curr.removeClass("ff-current");var n="next"===e?f.nextItem:f.prevItem;i(n).addClass("ff-current").find(".ff-media-wrapper").each(function(e,t){var s=i(this),n=s.data("media"),o=s.parent().parent().data("type");if(n&&"inserted"!==n){if(s.data("media-image")){var a=new Image;a.src=s.data("media-image"),a.onload=function(){s.removeClass("ff-slide-img-loading")}}else s.removeClass("ff-slide-img-loading");"soundcloud"==o?s.parent().parent().find(".ff-item-meta").after(s.data("media")):s.prepend(s.data("media")),s.data("media","inserted")}}),s(f.currentItem,"next"===e?m:g),f.nextItem&&(2*(t=parseInt(Number(f.nextItem.offsetHeight/2*1)))>u?t=parseInt(u/2)-25:"next"===e&&f.$wrapper.scrollTop(0),s(f.nextItem,"next"===e?c.support3d?"translate3d("+parseInt(Number(f.nextItem.offsetWidth/2*-1))+"px, -"+t+"px, 0px)":"translate(-50%, -50%)":a)),f.prevItem&&(2*(t=parseInt(Number(f.prevItem.offsetHeight/2*1)))>u?(t=parseInt(u/2)-25,"prev"===e&&f.$slideshow.scrollTop(0)):"prev"===e&&f.$wrapper.scrollTop(0),s(f.prevItem,"next"===e?a:c.support3d?"translate3d("+parseInt(Number(f.prevItem.offsetWidth/2*-1))+"px, -"+t+"px, 0px)":"translate(-50%, -50%)")),l&&s(l,"next"===e?g:m);var o=function(t){if(c.transitions&&p>=800){if(-1===t.originalEvent.propertyName.indexOf("transform"))return!1;i(this).off(d,o)}f.prevItem&&"next"===e?i(f.prevItem).removeClass("ff-show"):f.nextItem&&"prev"===e&&i(f.nextItem).removeClass("ff-show"),f._resetMedia(i(f.currentItem)),"next"===e?(f.prevItem=f.currentItem,f.currentItem=f.nextItem,l&&(f.nextItem=l)):(f.nextItem=f.currentItem,f.currentItem=f.prevItem,l&&(f.prevItem=l)),f.$curr=i(f.currentItem),f.current="next"===e?f.current+1:f.current-1,f.isAnimating=!1};c.transitions&&p>=800?f.$curr.on(d,o):o()},25)}},r.prototype._closeSlideshow=function(e){this.$wrapper.removeClass("ff-slideshow-open"),this.$slideshow.removeClass("ff-animatable"),this.resetScrollbar(),this.$body.removeClass("ff-modal-open ff-modal-scrollbar");var t=this,n=function(e){if(c.transitions&&e){if("section"!==e.target.tagName.toLowerCase())return;i(this).off(d,n)}var o=i(t.currentItem);t.$curr=o,o.removeClass("ff-current"),o.removeClass("ff-show"),t._resetMedia(o),t.prevItem&&i(t.prevItem).removeClass("ff-show"),t.nextItem&&i(t.nextItem).removeClass("ff-show"),t.slideshowItems.forEach(function(e){s(e,"")}),t.isSlideshowVisible=!1};c.transitions?this.$wrapper.on(d,n):n()},r.prototype._resetMedia=function(e){var t=e.attr("data-type");if("vine"!==t&&"soundcloud"!==t){var i=e.find(".ff-video"),s=i.find("iframe, video");s.length&&(s.is("iframe")?i.prepend(s):s.get(0).pause())}},r.prototype._setViewportItems=function(){this.currentItem=null,this.prevItem=null,this.nextItem=null,this.$curr=null,this.current>0&&(this.prevItem=this.slideshowItems[this.current-1]),this.current<this.itemsCount-1&&(this.nextItem=this.slideshowItems[this.current+1]),this.currentItem=this.slideshowItems[this.current],this.$curr=i(this.currentItem)},r.prototype._resizeHandler=function(){var e=this;this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(function(){e._resize(),e._resizeTimeout=null},50)},r.prototype._resize=function(){if(this.isSlideshowVisible){if(this.prevItem){e=Number(-1*(n()/2+this.prevItem.offsetWidth/2));s(this.prevItem,c.support3d?"translate3d("+e+"px, -50%, -150px)":"translate("+e+"px, -50%)")}if(this.nextItem){var e=Number(n()/2+this.nextItem.offsetWidth/2);s(this.nextItem,c.support3d?"translate3d("+e+"px, -50%, -150px)":"translate("+e+"px, -50%)")}var t=o(),i=parseInt(Number(this.currentItem.offsetHeight/2*1));2*i>t&&(i=parseInt(t/2)-25),s(this.currentItem,c.support3d?"translate3d("+parseInt(Number(this.currentItem.offsetWidth/2*-1))+"px, -"+i+"px, 0px)":"translate(-50%, -50%)")}},e.CBPGridGallery=r}(window,window.CustomModernizr,window.jQuery),function(e){function t(e,t,i,s){var n=i/t;return Math.round(e*n)}function i(t,i,s,o){var a=n(s,i);return a.filtered.each(function(){var t=e(this);t.add(t.find(".ff-img-holder, .picture-item__inner")).removeAttr("style")}),a.concealed.hide(),e(t).data("group",a.filtered),a.filtered}function s(e,t,i){for(var s=0,n=e.length;s<n;s++)if(t.call(i,e[s],s,e)==={})return}function n(t,i){var n=e(),a=e();return s(i,function(i){var s=e(i);o(t,s)||s.is(".ff-ad")?n=n.add(s):a=a.add(s)},this),{filtered:n,concealed:a}}function o(e,t){return e.call(t[0],t)}function a(i,s,n){function o(e,t){var i,s,n;for(i=t.length;i--;)if(n=t[i].size,e<n){s=parseInt(t[i].val);break}return s}var a,r,l,d,c=0,f=[],p=(n=jQuery.makeArray(n||i.querySelectorAll(s.itemSelector))).length,u=e(i),h=e(n),m=i.getBoundingClientRect(),g=s.sizes.spacing;for(S=g.length;S--;)if(d=g[S].size,m.width<d){l=parseInt(g[S].val);break}for(var v,w,y,b,x=Math.floor(m.right-m.left)-2*l,k=[],C=o(x,s.sizes.row),T=o(x,s.sizes.spacing),S=0;S<p;++S)!(v=n[S].getElementsByTagName("img")[0])||n[S].className.indexOf("ff-ad")+1?(w=300,y=C):((b=v.getAttribute("data-size"))&&(b=b.split(";"),w=parseInt(b[0]),y=parseInt(b[1])),w&&y||((w=parseInt(v.getAttribute("width")))||v.setAttribute("width",w=v.offsetWidth),(y=parseInt(v.getAttribute("height")))||v.setAttribute("height",y=v.offsetHeight))),k[S]={width:t(w,y,C,T),height:C};u.css("padding","0 "+l+"px"),p=n.length;for(var _=0;_<p;++_){if(n[_].classList?(n[_].classList.remove(s.firstItemClass),n[_].classList.remove(s.lastRowClass)):n[_].className=n[_].className.replace(new RegExp("(^|\\b)"+s.firstItemClass+"|"+s.lastRowClass+"(\\b|$)","gi")," "),c+=k[_].width,f.push(n[_]),_===p-1)for(E=0;E<f.length;E++)0===E&&(f[E].className+=" "+s.lastRowClass),f[E].style.cssText="width: "+k[_+parseInt(E)-f.length+1].width+"px;height: "+k[_+parseInt(E)-f.length+1].height+"px;margin-right:"+(E<f.length-1?T+"px":0);if(c+T*(f.length-1)>x){for(var I,$=c+T*(f.length-1)-x,O=(f.length,0),E=0;E<f.length;E++){I=f[E];var A=k[_+parseInt(E)-f.length+1].width,F=A-A/c*$,M=Math.round(k[_+parseInt(E)-f.length+1].height*(F/A));O+1-F%1>=.5?(O-=F%1,F=Math.floor(F)):(O+=1-F%1,F=Math.ceil(F)),I.style.cssText="width: "+F+"px;height: "+M+"px;margin-right: "+(E<f.length-1?T:0)+"px;margin-bottom: "+T+"px",I.querySelectorAll(".ff-img-holder").length?I.querySelectorAll(".ff-img-holder")[0].style.cssText="width: "+F+"px;height: "+M+"px;":I.querySelectorAll(".picture-item__inner")[0].style.cssText="width: "+F+"px;height: "+M+"px;",e(I).data("newHeight",M),e(I).data("newWidth",F),0===E&&(I.className+=" "+s.firstItemClass)}f=[],c=0}}r=h.not(".ff-ad").first(),a=r.find(".ff-item-meta").height(),h.each(function(t){var i,n,o,r,l,d,c,f,p,u,h,m=e(this),g=m.data(),v=(g.media&&g.media.split(";"),{}),w=!!m.find(".ff-img-holder img").length;c=m.find(w?".ff-overlay-wrapper":".ff-item-cont"),l=m.find(".ff-content"),d=m.find(".ff-overlay-wrapper > h4"),f=(f=c.children()).not(".ff-overlay"),"label1"===s.streamOpts["icon-style"]&&m.is(".ff-meta-first")||(f=f.not(".ff-label-wrapper")),u=parseInt(f.first().css("marginTop")),h=parseInt(f.last().css("marginBottom")),r=.07*m.data("newWidth"),p=(f.length-1)*r+u+h,o=d.length?d.height():0,(i=m.data("newHeight")-o-a-44-p)<21&&(i=i>=20?20:o?0:i<0?21+i-r:i),v={height:i},l.css(v),0!==v.height&&l.length||(n=m.data("newHeight")-a-44-p,v={},(n=Math.floor(n))<=21&&(n+r>=20?(d.addClass("ff-header-min"),n=21):(n=n<0?21+n-r:n,v.textIndent="-9999px")),v.height=n,n<=0&&d.detach(),d.css(v))})}e.fn.rowGrid=function(t,s){return this.each(function(){var n,o,r=e(this);"appended"===t?(t=r.data("grid-options"),n=(o=r.children("."+t.lastRowClass)).nextAll(t.itemSelector).add(o),a(this,t,n)):"shuffle"===t?(t=r.data("grid-options"),n=i(this,n=r.data("items"),s),a(this,t,n)):(t=e.extend({},e.fn.rowGrid.defaults,t),r.data("grid-options",t),a(this,t),t.resize&&e(window).on("resize.rowGrid",{container:this},function(i){var s=e(i.data.container).data("group");s&&s.each(function(){var t=e(this);t.add(t.find(".ff-img-holder, .picture-item__inner")).removeAttr("style")}),e(i.data.container).find(".ff-item:not(.ff-ad) .ff-content").dotdotdot({ellipsis:"...",after:""}),a(i.data.container,t,s)}))})},e.fn.rowGrid.defaults={minMargin:null,maxMargin:null,resize:!0,lastRowClass:"last-row",firstItemClass:null}}(jQuery),function(e){"use strict";function t(e){if(document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",!1,!0),e.dispatchEvent(t)}else document.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()}function i(){var e=window.sessionStorage;try{return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}}function s(e,t){if(!e)return"";var i=/(http|ftp|https:\/\/[\w\-_]+\.{1}[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/gi,s=/\#\w+(?!\w)/g,n=/\@(\w+)(?!\w)/g,o=!0===t||null==t?"_blank":"";return e.replace(i,function(e){return'<a href="'+(/^(?:(?:https?|ftp):\/\/)/i.test(e)?e:"http://"+e)+'" target="'+o+'">'+e+"</a>"}).replace(n,function(e){return'<a href="https://www.instagram.com/'+e.replace("@","")+'" target="'+o+'">'+e+"</a>"}).replace(s,function(e){return'<a href="https://www.instagram.com/explore/tags/'+e.replace("#","")+'" target="'+o+'">'+e+"</a>"})}function n(e,t,i,s){if(e=Number(e),!1!==(s=s||!1))return o(e,t,i,s);var n;return n=e>=1e12?"T":e>=1e9?"B":e>=1e6?"M":e>=1e3?"K":"",o(e,t,i,n)}function o(e,t,i,s){var n=0;switch(s){case"T":n=e/1e12;break;case"B":n=e/1e9;break;case"M":n=e/1e6;break;case"K":n=e/1e3;break;case"":n=e}return!1!==t&&new RegExp("\\.\\d{"+(t+1)+",}$").test(""+n)&&(n=n.toFixed(t)),!1!==i&&(n=Number(n).toFixed(i)),n+s}function a(e,t){var i=document.createElement("style");return i.type="text/css",t&&(i.id=t),/WebKit|MSIE/i.test(navigator.userAgent)?i.styleSheet?i.styleSheet.cssText=e:i.innerText=e:i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var r,l,d=e("html"),c=navigator.userAgent.toLowerCase(),f=/safari|chrome/.test(c),p=/android|blackBerry|iphone|ipad|ipod|opera mini|iemobile/i.test(c),u=/msie|trident.*rv\:11\./.test(c),h=/firefox/.test(c),m=!1,g=window.FlowFlowOpts;if(u){if(/msie 8/.test(c))return;r=/msie 9/.test(c)}d.addClass("ff-browser-"+(f?/chrome/.test(c)?"chrome":"safari":u?"ie"+(r?" ff-ie9":""):h?"ff":"")),e.expr.createPseudo&&"function"==typeof e.expr.createPseudo?e.expr[":"].contains=e.expr.createPseudo(function(t){return function(i){return e(i).text().toUpperCase().indexOf(t.toUpperCase())>=0}}):e.expr[":"].contains=function(t,i,s){return e(t).text().toUpperCase().indexOf(s[3].toUpperCase())>=0};var v=function(e){function o(){return e(document).bind("ffimgloaded",function(e,t){var i=t.$grid.data("shuffle");i&&i.layout()}),o=function(){return v},v}function r(e,t){t=Math.pow(10,t);for(var i=["k","m","b","t"],s=i.length-1;s>=0;s--){var n=Math.pow(10,3*(s+1));if(n<=e){1e3==(e=Math.round(e*t/n)/t)&&s<i.length-1&&(e=1,s++),e+=i[s];break}}return e}function d(e){switch(e){case"user_timeline":return'<i class="flaticon-feed_type_user"></i>';case"likes":case"liked":return'<i class="flaticon-feed_type_like"></i>';case"tag":return'<i class="flaticon-feed_type_hash"></i>';case"location":case"coordinates":return'<i class="flaticon-feed_type_loc"></i>';default:return""}}function c(t){var i=t.find(".ff-filter-holder"),s=t.find(".selectric-ff-filters-select"),n=t.find(".ff-filter-holder .ff-filter"),o=i.width(),a=(t.find(".ff-search").outerWidth(),0);e.each(n,function(){a+=e(this).outerWidth()+12}),s.hide(),n.show(),a>o&&(s.css("display","inline-block"),n.hide())}function f(e,t){var i,s,n=e[0].offsetWidth,o=e.data("size");for(i in oe)u(n,oe[i])&&(s=i);s&&o!=s&&e.add(t).attr("data-size",s)}function u(e,t){var i=t.minWidth||0,s=t.maxWidth||1/0;return e>=i&&e<=s}function h(e,t,i){K&&clearTimeout(K),K=setTimeout(function(){y(e),b(t),K=null},50)}function y(e){f(e),c(e)}function b(e){f(e)}function x(t,i){for(var s,n=0,o=i.template.length;n<o;n++)"image"===i.template[n]&&(s=n);t.each(function(t,i){var n,o,a=e(i),r=a.find(".ff-img-holder"),l="insertBefore";r.closest(".ff-content").length&&(n=a.find(".ff-item-cont").children().not(".ff-label-wrapper"),s>=n.length?(o=n.length-1,s>n.length&&(l="insertAfter")):o=s,r[l](n.eq(o))),a.addClass("ff-"+(r.length?"":"no-")+"image")})}function k(t){var i,s,n,o,a=e(this),r=this,l=a.parent(),d=l.is("a")?l:a;(n=a.data("size"))&&(i=n.split(";")[1],s=i&&0!=i),s||(i=a.attr("height")||a.height(),s=i&&0!=i),n||a.data("size",{height:i,width:a.attr("width")||a.width()}),l.is(".ff-img-holder")||(a.removeAttr("width").removeAttr("height"),o=e('<span class="ff-img-holder ff-img-loading" style="width: 100%;max-height: none"></span>'),d.wrap(o)),r.onload=function(){s||e(document).trigger("ffimgloaded",{$grid:t});var i=a.closest(".ff-img-holder");i.removeClass("ff-img-loading"),setTimeout(function(){i.addClass("ff-img-loaded"),i=null},100),a=null,r=null},r.onerror=function(i){if(!(a.data("updated")&&parseInt(a.data("updated"))>3)){var s=a.closest(".ff-item"),n=s.data(),o=t.data("opts"),r={action:G+"_update_post",post_id:s.attr("post-id"),feed_id:n.feed,shop:o.shop};if("yep"==o.cloud){var l,d=parseInt(a.data("updated"))||1,c=d>1?2e3*d:0;setTimeout(function(){l=e.get(FlowFlowOpts.ajaxurl,r)},c),e.when(l).then(function(e){e.url?(a.attr("src",e.url),a.attr("data-src",e.url),e.media):a.data("updated",d+1)},function(e){a.data("updated",d+1)})}}}}function C(e){var t,i,s,n,o,a,r=g.server_time,l=r-e,d=new Date(1e3*e);for(a=Z.length-1;a>=0&&(t=l/Z[a])<=1;a--);switch(a<0&&(a=0),t=Math.floor(t),a){case 3:if(1==t){i=g.dates.Yesterday;break}case 4:case 5:s=d.getMonth(),n=d.getDate(),i=ee[s]+" "+n;break;case 6:case 7:s=d.getMonth(),n=d.getDate(),o=d.getFullYear(),i=ee[s]+" "+n+", "+o;break;default:i=T(t,r,r-l%Z[a],0,a)}return i}function T(e,t,i,s,n){var o=te;return e+(o=o[n])+" "+g.dates.ago}function S(e,t,i,s,o,a){var r,l,c,f,u,h,m,v,w,y,b,x,k,C,T,S,I,$,O,E,A=e.length,F="",M="",z="",N=o["icon-style"]&&o["icon-style"].indexOf("stamp")>-1,P=t,L="yep"===o["max-res"];a||(a=0),o&&"randomCompare"==o.order&&(e=V(e));var W=o.feeds.reduce(function(e,t){return e[t.id]?e:(e[t.id]={id:t.id,type:t["timeline-type"],content:t["location-meta"]?t["location-meta"].name:t.content},e)},{});for(r=0;r<A;r++){if(c=e[r],l=r+1,w=z=v=E=M="",C={},O=o.isOverlay&&(!!c.img||-1!==c.text.indexOf("<img")),"ad"!==c.type){if(m=void 0!==c.source?c.source:c.permalink,s&&c.mod&&(I="new"==c.status?" ff-moderation-new-post":"",$="approved"==c.status?"checked":"","yep"==o.cloud?(M='<div class="ff-moderation-wrapper ff-mod-boost '+("approved"==c.status?"ff-approved":"")+I+'"><div class="ff-post-controls"><span class="ff-post-controls__pin'+(c.pinned&&parseInt(c.pinned)>0?" ff-post-controls__pinned":"")+'"><i class="ff-icon-ctrl-pin"></i> Pin</span><span class="ff-post-controls__edit'+(c.cta&&(c.cta.text||c.cta.ltext)?" ff-post-controls__cta":"")+'"><i class="ff-icon-ctrl-edit"></i> CTA</span><span class="ff-post-controls__publish"><label for="ff-mod-'+(P+a)+'"><input id="ff-mod-'+(P+a)+'" type="checkbox" class="ff-switcher" value="live" '+$+"/><div><span></span></div></label></span></div>",M+="</div>"):M='<div class="ff-moderation-wrapper '+("approved"==c.status?"ff-approved":"")+I+'"><span>Approve</span> <label for="ff-mod-'+(P+a)+'"><input id="ff-mod-'+(P+a)+'" type="checkbox" class="ff-switcher" value="yes" '+$+"/><div><span></span></div></label></div>"),c.additional){"twitter"===c.type&&(w+='<a href="https://twitter.com/intent/tweet?in_reply_to='+c.id+'" class="ff-comments"> <i class="ff-icon-reply"></i></a>'),(k=parseInt(c.additional.views))>-1&&"soundcloud"!==c.type&&(w+='<a href="'+c.permalink+'" class="ff-views"><i class="ff-icon-view"></i> <span>'+(k<0?"":n(k,2))+"</span></a>"),y=parseInt(c.additional.likes);var H=c.cta&&parseInt(c.cta.likes)?'<span class="ff-cta-likes"><svg height="16" width="16" class=""><use xlink:href="#ff-icon-heart"></use></svg> +'+(1==parseInt(c.cta.likes)?1:U(2,9))+"</span>":"";y>-1&&"twitter"!==c.type&&(w+='<a href="'+c.permalink+'" class="ff-likes"><i class="ff-icon-like"></i> <span>'+(y<0?"":n(y,2))+"</span>"+H+"</a>"),(x=parseInt(c.additional.shares))>-1&&(w+='<a href="'+("twitter"===c.type?"https://twitter.com/intent/retweet?tweet_id="+c.id:c.permalink)+'" class="ff-shares"><i class="ff-icon-shares"></i> <span>'+(x<0?"":n(x,2))+"</span></a>"),y>-1&&"twitter"===c.type&&(w+='<a href="https://twitter.com/intent/favorite?tweet_id='+c.id+'" class="ff-likes"><i class="ff-icon-like"></i> <span>'+(y<0?"":n(y,2))+"</span>"+H+"</a>"),b=parseInt(c.additional.comments),"twitter"!==c.type&&b>-1&&(w+='<a href="'+c.permalink+'" class="ff-comments"><i class="ff-icon-comment"></i> <span>'+(b>-1?n(b,2):"")+"</span></a>")}i&&(z+='<div class="ff-share-wrapper"><i class="ff-icon-share"></i><div class="ff-share-popup"><a href="http://www.facebook.com/sharer.php?u='+(h=encodeURIComponent(c.permalink))+'" class="ff-fb-share">Facebook</a><a href="https://twitter.com/share?'+(c.header?"text="+encodeURIComponent(c.header)+"&":"")+"url="+h+'" class="ff-tw-share">Twitter</a><a href="https://www.pinterest.com/pin/create/button/?url='+h+(c.media?"&media="+encodeURIComponent(c.media.url):"")+'" class="ff-pin-share">Pinterest</a><a href="https://www.linkedin.com/cws/share?url='+h+'" class="ff-li-share">Linkedin</a><a href="mailto:?subject='+(c.header?encodeURIComponent(c.header):"")+"&body="+h+'" class="ff-email-share">Email</a></div></div>'),E=c.media?' data-media="'+c.media.width+";"+c.media.height+";"+("yep"===g.forceHTTPS?c.media.url.replace("http:","https:"):c.media.url)+";"+c.media.type+(c.img?";"+c.img.width+";"+c.img.height:"")+'"':"",S=L&&c.media&&"image"===c.media.type?c.media:c.img;var D=c.text?c.text:"";D=(D=_(D)).length>75?D.substring(0,75)+"...":D;var j=c.cta&&c.cta.text?'<a class="ff-post-cta" '+("yep"==c.cta.new?'target="_blank"':"")+'href="'+c.cta.url+'"><span>'+c.cta.text+'</span><i class="ff-icon-arrow"></i></a>':"";C.image=S?'<span class="ff-img-holder ff-img-loading'+(S.width/S.height>1?" ff-img-landscape":" ff-img-portrait ")+'" '+E+'><img alt="'+D+'" class="ff-initial-image" '+("yep"!==o.viewportin&&"justified"!==o.layout||"list"===o.trueLayout?"src":"data-src")+'="'+("yep"===g.forceHTTPS?S.url.replace("http:","https:"):S.url)+'" data-size="'+S.width+";"+S.height+'" />'+j+"</span>":"",C.header=c.header?'<h4><a rel="nofollow" href="'+m+'">'+c.header+"</a></h4>":"",C.text='<div class="ff-content">'+c.text+"</div>",C.meta='<div class="ff-item-meta"><span class="ff-userpic" style="background:url('+("yep"===g.forceHTTPS?c.userpic.replace("http:","https:"):c.userpic)+')"><i class="ff-icon ff-label-'+W[c.feed].type+'"><i class="ff-icon-inner"></i></i></span><h6><a rel="nofollow" href="'+c.userlink+'" class="ff-name '+(c.userlink?"":" ff-no-link")+'">'+c.screenname+'</a></h6><a rel="nofollow" href="'+c.userlink+'" class="ff-nickname'+(c.userlink?"":" ff-no-link")+'">'+(c.nickname?c.nickname:c.screenname)+'</a><a rel="nofollow" href="'+c.permalink+'" class="ff-timestamp">'+J(c.system_timestamp,c.timestamp)+"</a>",c.location&&(C.meta+='<span class="ff-location">'+c.location.name+"</span>"),C.meta+="</div>","flow_flow"==G&&(C.labelIcon=N?"":'<h6 class="ff-label-wrapper"><i class="ff-icon ff-label-'+W[c.feed].type+'"><i class="ff-icon-inner"><span class="ff-label-text">'+c.type+"</span></i></i></h6>"),"insta_flow"==G&&(T=d(W[c.feed].type),C.labelIcon=N?"":'<h6 class="ff-label-wrapper"><i class="ff-icon ff-label-'+W[c.feed].type+'"><i class="ff-icon-inner"><span class="ff-label-text">'+T+W[c.feed].content+"</span></i></i></h6>");for(var R=0,q=o.template.length;R<q;R++)1===R&&O&&(v+='<div class="ff-overlay-wrapper">'),v+=C[o.template[R]],"meta"===o.template[R]&&(v+=C.labelIcon),R===q-1&&O&&(v+='<h6 class="ff-item-bar">'+w+z+"</h6>",v+='<div class="ff-overlay"></div></div>');c.carousel_size>0?v+='<div class="ff-carousel-icon"></div>':c.media&&"video/mp4"==c.media.type&&(v+='<div class="ff-video-icon"></div>'),F+='<article class="ff-item'+(c.media&&"image"!=c.media.type&&0==c.carousel_size?" ff-video-preview":"")+" ff-"+c.type+("meta"===o.template[o.isOverlay?1:0]||!c.img&&"meta"===o.template[1]?" ff-meta-first":"")+(c.header?" ff-has-header":"")+(c.img?" ff-image":" ff-no-image")+(O?" ff-has-overlay":"")+(c.with_comments?" ff-supports-comments":"")+'" id="ff-uid-'+P+'" post-id="'+c.id+'" data-type="'+c.type+'" data-feed="'+c.feed+'" data-index="'+(l+a)+'"'+E+' data-timestamp="'+c.system_timestamp+'">'+(s&&c.mod?M:"")+'<div class="picture-item__inner"><div class="ff-item-cont">'+v+"</div>"+(O?"":'<h6 class="ff-item-bar">'+w+z+"</h6>"),p&&(F+='<a class="ff-mob-link" href="'+c.permalink+'"></a>'),F+="</div>",F+="</article>"}else f="yep"===c.label?'data-label="'+c.labelTxt+";"+c.labelCol+'"':"",u='style="'+(c.textCol?"color:"+c.textCol+";":"")+("js"===c.adtype?"height:"+c.height+"px":"")+'"',F+='<div class="ff-item ff-'+c.type+(c.permalink?" ff-ad-link":"")+'" id="ff-uid-'+P+'" post-id="'+c.id+'" data-type="'+c.type+'" data-adtype="'+c.adtype+'" data-index="'+l+'" '+f+'><div class="picture-item__inner" style="'+(c.cardBG?"background-color:"+c.cardBG+";":"")+'"><div class="ff-item-cont"><div class="ff-content" '+u+">"+c.text.replace(/document\.write\((.+?)\)/i,function(e,t){return"jQuery("+t+').appendTo(jQuery("#ff-uid-'+P+' .ff-content"))'})+"</div>",c.permalink&&(F+='<a class="ff-link" href="'+c.permalink+'"></a>'),F+="</div></div></div>";P++}return F}function _(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var i=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,s=/\[.*?\]/gi;return e.replace(s,"").replace(i,function(e,i){return t.indexOf("<"+i.toLowerCase()+">")>-1?e:""})}function I(t,i){clearTimeout(l);var s=t.data("opts");m||(t.find(".ff-item").each(D),m=!0),l=setTimeout(function(){var n;I.finder,t.find(".ff-highlight").each(function(){e(this).replaceWith(this.childNodes)}),"list"===s.trueLayout?t.find("li[post-id]").each(function(){var t;(t=e(this).find("*").filter(function(){var t=e(this),s=this.tagName.toUpperCase();if((!this.children.length||this.className.indexOf("ff-content")>=0)&&!/icon|share/.test(this.className)&&"IMG"!=s)return t.text().toUpperCase().indexOf(i.toUpperCase())>=0})).length&&$(i,t)}):(n="justified"!==t.data("opts").layout?"shuffleCustom":"rowGrid",t[n]("shuffle",function(t,s){var n,o;return(!s||"all"===s.group||-1!==e.inArray(s.group,t.data("groups")))&&((n=t.find("*").filter(function(){e(this);var t=this.tagName.toUpperCase();if((!this.children.length||this.className.indexOf("ff-content")>=0)&&!/icon|share/.test(this.className)&&"IMG"!=t)return e(this).text().toUpperCase().indexOf(i.toUpperCase())>=0})).length?$(i,n):o=-1!==(o=e.trim(t.attr("data-type")).toLowerCase()).indexOf(i),n.length||o)},"only_sort"))},100)}function $(t,i){i.each(function(i,s){var n=e(s);n.is(".ff-content")?I.finder=window.findAndReplaceDOMText(s,{find:new RegExp(t,"i"),wrap:"span",clss:"ff-highlight"}):n.html(function(e,i){return i.replace(new RegExp(t,"i"),function(e){return'<span class="ff-highlight">'+e+"</span>"})})})}function O(t,i,s){m||(i.find(".ff-item").each(D),m=!0);var n=i.data("opts");"list"===n.trueLayout?s?(i.find("li[post-id]").hide(),i.find('li[data-type="'+s+'"]').show()):i.find("li[post-id]").show():i["justified"!==n.layout?"shuffleCustom":"rowGrid"]("shuffle",function(i,n){if(n&&"all"!==n.group&&-1===e.inArray(n.group,i.data("groups")))return!1;var o;return"flow_flow"==t&&(o=e.trim(i.attr("data-type")).toLowerCase()),"insta_flow"==t&&(o=e.trim(i.attr("data-feed")).toLowerCase()),s?-1!==o.indexOf(s):1},"only_sort")}function E(t,i,s,n,o,r,l){function d(i,s){var n=e(this),d=r.find(".ff-loader"),c=r.find(".ff-item, li[post-id]").not(".ff-ad").length,f={shop:FlowFlowOpts.domain,action:("insta_flow"===T?"insta_flow_":"")+"fetch_posts","stream-id":o.id,page:o["next-page"],countOfPages:o.countOfPages,hash:o.hash,token:FlowFlowOpts.token};return s?n.addClass("ff-fetching-posts"):(n.css("opacity",0),d.insertAfter(n).show().removeClass("ff-squeezed")),e.get(FlowFlowOpts.ajaxurl,f,function(i){var f=i;if(o.ads){for(var h,m,v=o.ads,b=[],C=i.page*o["page-posts"],T=0,_=f.items.length;T<_;T++)h=f.items[T],v[C+T]&&((m=v[C+T]).id="ad_el_"+m.id,b.push(m),delete v[C+T]),b.push(h);f.items=b}var I=f.items,T=0,_=I.length,$=e('[id^="ff-uid-"]').length+1||1,O=S(I,$,!0,g.moderation,o,$-1),E=e(O),M=E.not(".ff-ad"),z=M.toArray();if(f){t.trigger("loaded_more",{items:E}),o.hash=f.hash,o["next-page"]=f.page+1,o.countOfPages=f.countOfPages,"carousel"!==o.trueLayout&&t.append(E),"justified"!==o.layout?t.shuffleCustom("appended",E):t.rowGrid("appended"),H(E),"yep"!==o.viewportin&&"justified"!==o.layout&&!l||"list"===o.trueLayout||L(t,E,"yep"===o.viewportin,$);var N="";M.each(function(){var t=e(this);t.find("img").not(":first").remove();var i=t.attr("post-id"),s=I.find(function(e){return e.id==i});s&&s.cta&&(s.cta.text||s.cta.ltext)&&(N+="#ff-stream-"+o.id+' .in[post-id="'+i+'"] .ff-post-cta,#ff-stream-infinite-'+o.id+' .ff-viewport-slide-in[post-id="'+i+'"] .ff-post-cta,#ff-stream-'+o.id+'-slideshow .ff-show-cta[post-id="'+i+'"] .ff-post-cta{background-color: '+s.cta.color+";}"),t.data("opts",s)});var P=document.getElementById("ff-cta-css-"+o.id);if(P&&P.parentNode.removeChild(P),N&&a(N,"ff-cta-css-"+o.id+"-"+f.page),E.find("img").each(function(){k.apply(this,[t])}),"yep"===g.open_in_new){var D=location.hostname;E.find("a").filter(function(){return this.hostname!=D}).attr("target","_blank").attr("rel","noreferrer")}if(x(M,o),"list"===o.trueLayout&&(CBPGridGallery.prototype._addSlideShowItems(z,!1,!0,"replace",o.template),t.find(".ff-media-wrapper:gt("+(o["page-posts"]*f.page-1)+")").each(A).each(w(F,{comments:o.wallcomments,ignoreLoadedEvent:!0}))),u?(u._addSlideShowItems(z,"appended"),u.initItemsEvents(z,c),u.slideshowItems=[].slice.call(u.slideshow.children),u.itemsCount=u.itemsCount+M.length):y&&(y.find(".ff-infinite-content").append(CBPGridGallery.prototype._addSlideShowItems(z,!1,!0)),W(t,y.find(".ff-infinite-content > li"))),d.addClass("ff-squeezed").delay(300).hide(),setTimeout(function(){M.filter(":lt(5)").addClass("in"),M.find(".ff-content").dotdotdot({ellipsis:"...",after:""}),setTimeout(function(){f.page+1!=f.countOfPages?s||n.css("opacity",1):s?r.off("beforeChange"):n.remove(),p.layout(),s&&n.removeClass("ff-fetching-posts")},200)},14),FlowFlowOpts.dependencies.ads&&f.ads){var j=jQuery.post(g.ajaxurl,{action:"flow_flow_ad_action",status:"view",id:f.ads});e.when(j).always(function(e){})}}else console.log("FLOW-FLOW: Empty response from server")})}t.find(".shuffle__sizer");var p,u,m,v,y,b,C=t.find(".ff-item"),T=r.data("plugin"),_=o.trueLayout,I="grid"===_?"":"masonry"===_?"m-":"carousel"===_?"c-":"j-",$={columns:[{size:1e4,val:o[I+"c-desktop"]},{size:1200,val:o[I+"c-laptop"]},{size:1024,val:o[I+"c-tablet-l"]},{size:768,val:o[I+"c-tablet-p"]},{size:480,val:o[I+"c-smart-l"]},{size:380,val:o[I+"c-smart-p"]}],rows:[{size:1e4,val:o[I+"r-desktop"]},{size:1200,val:o[I+"r-laptop"]},{size:1024,val:o[I+"r-tablet-l"]},{size:768,val:o[I+"r-tablet-p"]},{size:480,val:o[I+"r-smart-l"]},{size:380,val:o[I+"r-smart-p"]}],spacing:[{size:1e4,val:o[I+"s-desktop"]},{size:1200,val:o[I+"s-laptop"]},{size:1024,val:o[I+"s-tablet-l"]},{size:768,val:o[I+"s-tablet-p"]},{size:480,val:o[I+"s-smart-l"]},{size:380,val:o[I+"s-smart-p"]}],row:[{size:1e4,val:o[I+"h-desktop"]},{size:1200,val:o[I+"h-laptop"]},{size:1024,val:o[I+"h-tablet-l"]},{size:768,val:o[I+"h-tablet-p"]},{size:480,val:o[I+"h-smart-l"]},{size:380,val:o[I+"h-smart-p"]}]};return m=t.parent(),H(C),setTimeout(f.bind(this,m,t),4),f.call(this,m,t),"justified"!==o.layout?(t.shuffleCustom({itemSelector:".ff-item",gutterWidth:function(e){var t=Array.prototype.slice.call(arguments);return t.push($.spacing),function(e,t){var i,s,n;for(i=t.length;i--;)if(n=t[i].size,e<n){s=parseInt(t[i].val);break}return s}.apply(null,t)},columnWidth:function(e,t){var i=Array.prototype.slice.call(arguments),s=(t||this._itemMargin,this);return i.push($),i.push(this.streamOpts.trueLayout),function(e,t,i,n){var o,a,r,l,d,c=i.columns;for(o=c.length;o--;)if(r=c[o].size,e<r){l=parseInt(c[o].val),"carousel"===n?(d=i.rows[o].val,a=(e-2*t-t*(l-1))/l,s.streamOpts.itemsPerSlide=l*d):a=(e-2*t-t*(l-1))/l;break}return a||260}.apply(null,i)},streamOpts:o}),e(document).on("done.stream",function(e,i,s){var n;if(s!=o.id)return n=t.data("viewport"),void setTimeout(function(){n&&n.refreshOffsets()},100);setTimeout(function(){i.update(),r.find(".ff-loadmore-wrapper").css("visibility","visible")},14)})):(t.rowGrid({minMargin:5,maxMargin:5,itemSelector:".ff-item",firstItemClass:"first-item",resize:!0,sizes:$,streamOpts:o}),setTimeout(function(){r.find(".ff-loadmore-wrapper").css("visibility","visible")},0)),"list"==o.trueLayout&&(CBPGridGallery.prototype._addSlideShowItems([].slice.call(t[0].querySelectorAll(".ff-item:not(.ff-ad)")),!1,!0,"replace",o.template),t.addClass("ff-infinite ff-slideshow"),t.find(".ff-media-wrapper").each(A).each(w(F,{comments:o.wallcomments,ignoreLoadedEvent:!0}))),n&&("news"!==o["gallery-type"]?(u=new CBPGridGallery(m,{iconStyle:o["icons-style"]}),v=m.find(".ff-slideshow-classic").attr("id",m.attr("id")+"-slideshow")):(y=e('<section class="ff-infinite ff-slideshow ff-'+o["icons-style"]+'-icon" id="ff-stream-infinite-'+o.id+'"><div class="ff-infinite-outer"><ul class="ff-infinite-content"></ul><div class="mouse-scroll"><span class="mouse-scroll__mouse" aria-hidden="true"><span class="mouse-scroll__mouse__wheel mouse-scroll__mouse__wheel--1"></span><span class="mouse-scroll__mouse__wheel mouse-scroll__mouse__wheel--2"></span></span><span class="mouse-scroll__label">'+FlowFlowOpts.scroll+'</span></div><span class="ff-nav-close"></span><span class="ff-scroll-end"></span></div></section>')).find(".ff-infinite-content").append(CBPGridGallery.prototype._addSlideShowItems([].slice.call(t[0].querySelectorAll("list"==o.trueLayout?"li[class*=ff-slide]":"carousel"==o.trueLayout?".slick-slide:not(.slick-cloned ) .ff-item:not(.ff-ad)":".ff-item:not(.ff-ad)")),!1,!0)),"yep"===o.hidemeta&&v&&v.addClass("ff-hide-meta"),setTimeout(function(){var i,s,n="down",a=0;if("news"!=o["gallery-type"])ie.append(v),f(v);else{ie.append(y),f(y),i=e('<div class="ff-nav-mob"><span class="ff-nav-mob__heading">'+(o.heading||"")+'</span><span class="ff-nav-mob__close"></span></div>'),y.after(i),y.on("click",function(t){e(t.target).closest("li").length||(y.removeClass("ff-infinite-open ff-scroll-up"),N(),ie.removeClass("ff-modal-open ff-modal-scrollbar"),y.find("iframe, video").each(function(){var t=e(this);t.closest(".ff-media-wrapper").data("mediaInserted",!1),t.remove()}))}),i.on("click",function(){y.removeClass("ff-infinite-open ff-scroll-up"),N(),ie.removeClass("ff-modal-open ff-modal-scrollbar")}),y.on("click",".ff-share-wrapper",function(t){var i=e(this);i.data("opened")?(i.removeClass("ff-popup__visible"),i.data("opened",!1)):(i.addClass("ff-popup__visible"),i.data("opened",!0))});var r=new FF_Viewport(o,".ff-infinite-outer");t.data("viewportForInfinite",r),t.on("click",".ff-item:not(.ff-ad), li[class*=ff-slide]",function(i){var s,n=e(this),a="carousel"==o.trueLayout?t.find(".slick-slide:not(.slick-cloned ) .ff-item:not(.ff-ad)"):t.find(".ff-item:not(.ff-ad)"),r=a.length?a.index(n):n.index(),l=e(i.target),d=l.closest('a, [class*="slick-nav"]'),c=l.closest("h4").length,f=l.closest(".ff-icon-share").length,p=l.closest(".ff-moderation-wrapper").length,u=y.find(".ff-media-wrapper").slice(r-1>0?r-1:0,r+2),h=y.find(".ff-infinite-content > li");if(d.length&&!l.is("img")||f||p){if("yep"===o.titles&&c)return;if(!c)return}i.preventDefault(),y.addClass("ff-infinite-open"),M(),z(),ie.addClass("ff-modal-open"+(X?" ff-modal-scrollbar":"")),u.each(A).each(w(F,{$slides:h,origIdx:r})),s=h.eq(r).position().top,y.find(".ff-infinite-outer").scrollTop(s),y.removeClass("ff-scroll-up"),o.startingPos=s,o.observeLast=!0,W(t,h),setTimeout(function(){y.find(".ff-infinite-outer").one("scroll",function(){b=!0})},600),ne&&("shown"===sessionStorage.getItem("ff-scroll-icon")?y.find(".mouse-scroll").hide():sessionStorage.setItem("ff-scroll-icon","shown")),setTimeout(function(){y.find(".mouse-scroll").fadeOut()},5e3)}),e(document).on("ff-comments-loaded",function(e,t){t.$slide&&void 0!==t.idx&&t.params&&(b||0!==t.idx||t.params.$slides.eq(t.params.origIdx).is(t.$slide)||y.find(".ff-infinite-outer").animate({scrollTop:t.$slide.next("li").position().top},0))}),y.on("scroll-direction",function(e,t){var i=n;(n=t.direction)!==i?a=0:(2===(a+=1)&&"down"===n&&y.removeClass("ff-scroll-up"),3===a&&"up"===n&&y.addClass("ff-scroll-up"))}).on("second-to-last-in-the-view",function(e,t){if(!s){var i=d();s=!0,i.then(function(){s=!1})}})}l||e(window).on("resize",h.bind(this,m,v||y,t))},0)),setTimeout(c.bind(this,m),4),"yep"!==o.viewportin&&"justified"!==o.layout&&!l||"list"===o.trueLayout||L(t,C,"yep"===o.viewportin),t.find(".ff-item:not(.ff-ad) .ff-content").dotdotdot({ellipsis:"...",after:""}),p=t.data("shuffle"),i&&(i=parseInt(i),t.addClass("ff-slider").parent().css("paddingBottom","70px"),R(t,i,p,s),t.shuffleCustom("shuffle",function(e,t){return parseInt(e.attr("data-index"))<=i}),t.data("num",C.length),t.data("visible",0)),r.find(".ff-loadmore-wrapper span").click(d),r.on("slick-last-slide",d),r.on("slick-destroyed",function(){}),e(document).trigger("done.stream",[p,o.id]),p}function A(t){var i=e(this),s=i.data("media"),n=i.data("mediaInserted");if(s&&!n){if(i.data("media-image")){var o=new Image;o.src=i.data("media-image"),o.onload=function(){i.removeClass("ff-slide-img-loading")}}else i.removeClass("ff-slide-img-loading");i.append(s),i.data("mediaInserted","inserted")}}function F(t,i,s){var n=e(this).closest("li");if(n.length){var o=n.find(".ff-comments-list-inner");if(!n.data("comments")&&!n.data("carousel")){var a=e.get(FlowFlowOpts.ajaxurl,{shop:FlowFlowOpts.domain,action:G+"_load_comments_and_carousel",feed_id4post:n.data("feed"),post_id:n.attr("post-id"),permalink:n.find("a.ff-timestamp").attr("href")});s&&"nope"===s.comments?n.addClass("ff-comments-hidden"):o.find(".ff-slide-loader").show(),e.when(a).then(function(i){var a,r="",l=i.comments;l&&0!==l.length?(l.length>=5&&(a=l.length,l=l.slice(0,5)),l.forEach(function(e,t,i){var s,o,a="string"==typeof e.from&&e.from&&"Facebook user"!==e.from?JSON.parse(e.from):e.from,l=e.text;"instagram"==n.data("type")&&(o="https://www.instagram.com/"+(s=a.username)),"facebook"==n.data("type")&&(s=a&&a.name?a.name:a||"",o="https://www.facebook.com/"+(a?a.id:"")),"youtube"==n.data("type")&&(s=a.full_name,o="https://www.youtube.com/channel/"+a.id),"posts"==n.data("type")&&(o="/author/"+(s=a.name)),r+='<div class="ff-slide-comment">',s?(r+='<a href="'+o+'" rel="noreferrer" target="_blank" title="'+s+'">',r+="<b>"+s+"</b>",r+="</a>",r+="<span>"+l+"</span>"):r+='<span>"'+l+'"</span>',r+="</div>"})):r+="<div>"+(FlowFlowOpts&&FlowFlowOpts.no_comments?FlowFlowOpts.no_comments:"No comments yet.")+' <a href="'+n.find(".ff-comments").attr("href")+'" rel="noreferrer" target="_blank">'+(FlowFlowOpts&&FlowFlowOpts.be_first?FlowFlowOpts.be_first:"Be the first!")+"</a></div>",a&&(r+='<div><a rel="noreferrer" target="_blank" href="'+n.find(".ff-external-link").attr("href")+'">'+FlowFlowOpts.view_all+" "+n.find(".ff-comments span").text()+" "+FlowFlowOpts.comments+"</a></div>"),o.html(r),n.data("comments","added"),n.is(".ff-supports-comments")&&(s&&s.ignoreLoadedEvent||e(document).trigger("ff-comments-loaded",{idx:t,$slide:n,params:s})),setTimeout(function(){o.addClass("ff-comments-loaded"+(a?"":" ff-few-comments"))},0);var d=i.carousel;if(!(d.length<2||n.has(".ff-video").length)){var c=n.find(".ff-img-holder").outerWidth(),f=n.find(".ff-img-holder").outerHeight();n.find(".ff-media-wrapper").css("width",c+"px").css("height",f+"px"),n.find(".ff-media-wrapper").find(".ff-slideshow-carousel").remove(),n.find(".ff-media-wrapper").append('<div class="ff-slideshow-carousel" style="height:'+f+'px"></div>'),d.forEach(function(e,t){if("image"==e.media_type||"photo"==e.media_type)var i='<span class="ff-img-holder" style="background-image: url('+e.media_url+')">';n.find(".ff-slideshow-carousel").append(i)});var p={adaptiveHeight:!0,infinite:!0,arrows:!0,dots:!0,slidesToShow:1,slidesToScroll:1,prevArrow:'<span class="ff-arrow-left slick-prev slick-nav"></span>',nextArrow:'<span class="ff-arrow-right slick-next slick-nav"></span>'};n.find(".ff-media-wrapper > .ff-img-holder").hide(),n.find(".ff-slideshow-carousel").slick(p),n.data("carousel","added")}},function(e){o.html("Sorry, something went wrong during loading comments for this post. Try to re-open lightbox.")}),n.data("carousel","pending").data("comments","pending")}}}function M(){Q=document.body.scrollHeight>document.documentElement.clientHeight,(Y=P())>0&&(X=!0)}function z(){var e=parseInt(ie.css("padding-right")||0,10);Q&&ie.css("padding-right",e+Y)}function N(){ie.css("padding-right","")}function P(){var e=document.createElement("div");e.className="ff-modal-scrollbar-measure",ie.append(e);var t=e.offsetWidth-e.clientWidth;return ie[0].removeChild(e),t}function L(e,t,i,s){s||(s=0);var n=e.data("viewport");t.each(function(e){n.add(new FF_ViewportItem({element:this,idx:e+s,threshold:130,enter:D,leave:j,needScroll:i}))})}function W(t,i,s){s||(s=0);var n=t.data("viewportForInfinite");i.each(function(t){var i=e(this);i.data("viewport-tracked")||(n.add(new FF_ViewportItem({element:this,threshold:0,idx:t+s,enter:function(){var i=e(this);i.addClass("ff-viewport-slide-in").data("viewport","in"),i.find(".ff-media-wrapper").each(function(){A.call(this)}),i.data("comments")||F.call(this,t)},leave:function(){e(this).data("viewport","out")},relativeToParentElem:!0})),i.data("viewport-tracked",!0))})}function H(e){e.find(".picture-item__inner").addClass("picture-item__inner--transition")}function D(){var t=e(this),i=t.find(".ff-img-holder img");i.length&&i.data("src")&&!i.data("mounted")&&(i.attr("src",i.data("src")),i.data("mounted",1)),t.addClass("in").data("viewport","in")}function j(){e(this).data("viewport","out")}function R(t,i,s,n){function o(){var e=d.data("currentSlide")-1;e<1&&(e=u),d.data("currentSlide",e),r(e),n&&setTimeout(l,0)}function a(){var e=d.data("currentSlide")+1;e>u&&(e=1),d.data("currentSlide",e),r(e),n&&setTimeout(l,0)}function r(s){t.shuffleCustom("shuffle",function(t,n){var o,a,r;return("all"===n.group||-1!==e.inArray(n.group,t.data("groups")))&&(o=t.attr("data-index"),a=i*(s-1),r=i*s,o>a&&o<=r)})}function l(){var i=t.offset().top;e("html, body").animate({scrollTop:i-100},300)}var d,c=e('<span class="ff-control-prev"/>'),f=e('<span class="ff-control-next"/>'),u=Math.ceil(s.$items.length/i);c.on("click",o),f.on("click",a),p&&q(t,o,a),(d=e('<div class="ff-controls-wrapper"></div>').append(c).append(f)).data("currentSlide",1),t.on("layout.shuffle",function(){}),t.append(d)}function q(e,t,i){var s,n,o,a,r;e.bind("touchstart",function(e){o=(new Date).getTime(),s=e.originalEvent.touches[0].pageX,n=e.originalEvent.touches[0].clientY}).bind("touchmove",function(e){a=e.originalEvent.touches[0].pageX,r=e.originalEvent.touches[0].clientY}).bind("touchend",function(){var e=a>s?"right":"left",l=r-n>60||-60>r-n,d=a-s>60||-60>a-s;if(!((new Date).getTime()-o>300||l)&&d)switch(e){case"left":i();break;case"right":t()}})}function B(t,i,s){var n=s.id,o=s.hash,a={},r=FlowFlowOpts.token;t.find(".ff-moderation-apply").click(function(t){var i=e.post(FlowFlowOpts.ajaxurl,{action:"flow_flow_moderation_apply_action",moderation_action:"custom_approve",stream:n,changed:a,hash:o,token:r});e.when(i).then(function(e){location.reload()},function(){location.reload()})}),t.find(".ff-moderation-approve-new").click(function(t){var i=e.post(FlowFlowOpts.ajaxurl,{action:"flow_flow_moderation_apply_action",moderation_action:"new_posts_approve",stream:n,hash:o,token:r});e.when(i).then(function(e){location.reload()},function(){location.reload()})}),t.find(".ff-moderation-toggle-ui").click(function(e){var i=t.parent();i.toggleClass("ff-mod-ui-off");var s=i.find(".ff-stream-wrapper").data("shuffle");s&&s.layout()}),t.on("change",".ff-moderation-wrapper input",function(t){var i=e(this),s=i.is(":checked"),n=i.closest(".ff-item, li[class*=ff-slide]"),o=n.attr("post-id");i.closest(".ff-moderation-wrapper")[s?"addClass":"removeClass"]("ff-approved"),a[o]?a[o].approved=s:a[o]={approved:s},a[o].feedId=n.data("feed"),a[o].type=n.data("type"),n.closest(".ff-stream").find(".ff-header").addClass("ff-btn-apply-vis")}),t.on("click",".ff-post-controls__pin",function(t){var i=e(this),s=i.is(".ff-post-controls__pinned"),n=i.closest(".ff-item, li[class*=ff-slide]"),o=n.attr("post-id");i[s?"removeClass":"addClass"]("ff-post-controls__pinned");var r=s?"0":"1";a[o]?a[o].pinned=r:a[o]={pinned:r},a[o].feedId=n.data("feed"),a[o].type=n.data("type"),n.closest(".ff-stream").find(".ff-header").addClass("ff-btn-apply-vis")}),t.on("click",".ff-post-controls__edit",function(i){var n=e(this),o=t.parent();o.addClass("ff-settings-popup__visible");var a=n.closest(".ff-item, li[class*=ff-slide]"),r=(a.attr("post-id"),a.data("opts"));o.find("#ff-cta-text-"+s.id).val(r.cta?r.cta.text:""),o.find("#ff-cta-ltext-"+s.id).val(r.cta?r.cta.ltext:""),o.find("#ff-cta-url-"+s.id).val(r.cta?r.cta.url:""),o.find("#ff-cta-new-"+s.id).prop("checked",r.cta&&"yep"==r.cta.new),o.find("#ff-cta-open-"+s.id).prop("checked",r.cta&&"yep"==r.cta.open),o.find("#ff-cta-like-"+s.id).val(r.cta&&r.cta.likes?r.cta.likes:"0"),e.spectrum&&o.find("#ff-cta-color-"+s.id).spectrum("set",r.cta&&r.cta.color||"#e916b7"),o.find(".ff-settings-popup").data("current",a)}),t.on("click",".ff-popup-close",function(e){t.parent().removeClass("ff-settings-popup__visible")}),t.on("click",".ff-settings-btn",function(i){var n=e(this),o=t.parent(),r=o.find(".ff-settings-popup").data("current"),l=r.attr("post-id"),d=n.is(".ff-settings-btn--clear");d&&(o.find("#ff-cta-text-"+s.id).val(""),o.find("#ff-cta-ltext-"+s.id).val(""),o.find("#ff-cta-url-"+s.id).val(""),e.spectrum&&o.find("#ff-cta-color-"+s.id).spectrum("set","#e916b7"),o.find("#ff-cta-new-"+s.id).prop("checked",!1),o.find("#ff-cta-open-"+s.id).prop("checked",!1),o.find("#ff-cta-like-"+s.id).val("0"));var c=o.find("#ff-cta-text-"+s.id).val(),f=o.find("#ff-cta-ltext-"+s.id).val(),p=o.find("#ff-cta-new-"+s.id).prop("checked")?"yep":"nope",u=o.find("#ff-cta-url-"+s.id).val(),h={text:c,ltext:f,new:p,open:o.find("#ff-cta-open-"+s.id).prop("checked")?"yep":"nope",url:u,color:o.find("#ff-cta-color-"+s.id).val(),likes:o.find("#ff-cta-like-"+s.id).val()};a[l]?a[l].cta=h:a[l]={cta:h},a[l].feedId=r.data("feed"),a[l].type=r.data("type"),(c||f||u)&&r.find(".ff-post-controls__edit").addClass("ff-post-controls__cta"),d||o.removeClass("ff-settings-popup__visible"),n.is(".ff-settings-btn--apply")&&t.find(".ff-moderation-apply").click()})}function V(e){for(var t,i,s=e.length;0!==s;)i=Math.floor(Math.random()*s),t=e[s-=1],e[s]=e[i],e[i]=t;return e}function U(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var G,Y,Q,X,K,J="agoStyleDate"===g.date_style?function(e,t){return C(e)}:function(e,t){return t},Z=[1,60,3600,86400,604800,2630880,31570560,315705600],ee=g.dates.months,te=[g.dates.s,g.dates.m,g.dates.h],ie=e("body"),se={},ne=i(),oe={tiny:{maxWidth:300},small:{minWidth:300},medium:{minWidth:480},large:{minWidth:800}};return{init:o,streams:se,addTransitionToItems:H,addViewportItems:L,prepareImageFor:k,adjustItems:x,shuffle:E,recalcLayout:function(e){e.$el.layout()},buildItems:S,buildStreamWith:function(i,n,o,l,c){var f,u,h,m,v,w,y,b,C,T,_,$,E,A="";if(i){if("yep"!==n.viewportin&&"justified"!==n.layout&&!c||"list"===n.trueLayout||(E=new FF_Viewport(n,window)),G=n.plugin,!n.feeds||"[]"===n.feeds)return"<p>No feeds to show. Add at least one</p>";if(!n.layout)return"<p>Please choose stream layout on options page</p>";"string"==typeof n.feeds&&(n.feeds=JSON.parse(n.feeds)),y=n.feeds,n.hash=i.hash,n["next-page"]=i.page+1,n.countOfPages=i.countOfPages;var F=i.items,M=0,z=F.length,N=e('[id^="ff-uid-"]').length+1||1;if("yep"===n.gallery&&"news"!=n["gallery-type"]&&(A+='<section class="ff-slideshow ff-slideshow-classic"><ul></ul><nav><span class="ff-nav-prev"></span><span class="icon ff-nav-next"></span><span class="ff-nav-close"></span></nav><div class="ff-nav-info-keys">'+window.FlowFlowOpts.lightbox_navigate+"</div></section>"),A+='<div class="ff-header ff-loading">',n.heading&&(A+="<h1>"+n.heading.replace(/\\/g,"")+"</h1>"),n.subheading&&(A+="<h2>"+n.subheading.replace(/\\/g,"")+"</h2>"),"yep"==n["show-profile"]&&F.length>0&&1===n.feeds.length&&"user_timeline"==n.feeds[0]["timeline-type"]&&(A+='<div class="ff-stream-profile">                        <div class="ff-stream-profile-fixed">                            <div class="ff-stream-profile-inner">                                <div class="ff-stream-profile-avatar" style="background-image: url('+(w=F[0]).userpic+')"></div>\t\t\t\t\t\t\t\t<div class="ff-stream-profile-content">\t\t\t\t\t\t\t\t\t<div class="ff-stream-profile-header">\t\t\t\t\t\t\t\t\t\t<h3>'+w.nickname+'</h3>\t\t\t\t\t\t\t\t\t\t<a href="https://www.instagram.com/'+w.nickname+'" rel="noreferrer" target="_blank" title="Follow '+w.screenname+'">follow</a>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<ul class="ff-stream-profile-meta">\t\t\t\t\t\t\t\t\t\t<li><b>'+r(w.user_counts_media,0)+"</b> "+window.FlowFlowOpts.posts+"</li><li><b>"+r(w.user_counts_followed_by,0)+"</b> "+window.FlowFlowOpts.followers+"</li><li><b>"+r(w.user_counts_follows,0)+"</b> "+window.FlowFlowOpts.following+'</li>\t\t\t\t\t\t\t\t\t</ul>\t\t\t\t\t\t\t\t\t<div class="ff-stream-profile-bio"><strong>'+w.screenname+"</strong>"+s(w.user_bio)+"</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>"),"yep"===n.filter){if("flow_flow"==G){for(C="",b={},$=0,M=0;M<z;M++)b[F[M].type]=1;for(var P in b)"ad"!==P&&($+=1,C+='<span class="ff-filter" data-filter="'+P+'"><i class="ff-type-'+P+'"></i></span>',T+='<option class="ff-filter-option ff-type-'+P+'" value="'+P+'">'+P+"</option>");T=$>1?'<option class="ff-filter-option ff-type-all" value="">'+g.filter_all+"</option>"+T:T,C+='<select class="ff-filters-select">'+T+"</select>",A+='<div class="ff-filter-holder">'+($>1?'<span class="ff-filter ff-type-all ff-filter--active">'+g.filter_all+"</span>"+C:"")+'<span class="ff-search"><input type="text" placeholder="'+g.filter_search+'"/></span></div>'}"insta_flow"==G&&(T="",C="",_=[],$=0,y.forEach(function(e,t,i){var s=e.content;e.hasOwnProperty("location-meta")&&e["location-meta"].hasOwnProperty("name")&&(s=e["location-meta"].name),_.push({id:e.id,type:e["timeline-type"],label:s})}),_.forEach(function(e,t,i){if("ad"!==e.type){var s=d(e.type);$+=1,C+='<span class="ff-filter ff-type-'+e.type+'" data-filter="'+e.id+'">\t\t\t\t\t\t'+s+"<span>"+e.label+"</span></span>",T+='<option class="ff-filter-option" value="'+e.id+'">'+e.label+"</option>"}}),T=$>1?'<option class="ff-filter-option ff-type-all" value="">'+g.filter_all+"</option>"+T:T,C+='<select class="ff-filters-select">'+T+"</select>",A+='<div class="ff-filter-holder">'+($>1?'<span class="ff-filter ff-type-all ff-filter--active">'+g.filter_all+"</span>"+C:"")+'<span class="ff-search"><input type="text" placeholder="'+g.filter_search+'"/></span></div>')}o&&(g.moderation=o,A+='<div class="ff-moderation-holder"><p><strong>PREMODERATION MODE IS ON</strong>. APPROVE POSTS AND HIT <strong>SAVE CHANGES</strong>.</p><span class="ff-moderation-button ff-moderation-apply">Save changes</span><span class="ff-moderation-button ff-moderation-approve-new">Approve new posts</span><span class="ff-moderation-button ff-moderation-toggle-ui">Show/hide UI</span><span class="ff-moderation-apply-alt ff-moderation-button ff-moderation-apply">Save changes</span></div>'),A+="</div>",v=n["gc-style"],A+='<div class="ff-stream-wrapper ff-'+(p?"mobile":"desktop")+" shuffle--container"+("yep"===n.viewportin&&!p&&window.requestAnimationFrame&&"carousel"!==n.trueLayout?" shuffle--animatein":" shuffle--animateoff")+" ff-layout-"+n.layout+" ff-truelayout-"+n.trueLayout+" ff-upic-"+n["upic-pos"]+" ff-upic-"+n["upic-style"]+" ff-align-"+n.talign+" ff-sc-"+n["icon-style"]+" ff-sc-"+n["icon-col"]+" ff-"+n["icons-style"]+'-icon">',A+=S(F,N,!0,o,n),"carousel"!==n.trueLayout&&"list"!==n.trueLayout&&(A+='<div class="shuffle__sizer"></div>'),A+="</div>",i.countOfPages>1&&i.page+1!=i.countOfPages&&("yep"!==n.mobileslider||!p)&&"carousel"!=n.trueLayout&&(A+='<div class="ff-loadmore-wrapper"><span class="ff-btn">'+window.FlowFlowOpts.show_more+"</span></div>"),"carousel"===n.trueLayout&&(A+='<div class="ff-slide-overlay"><div class="ff-slide-loader"><span>'+FlowFlowOpts.loading+"</span></div></div>"),o&&(A+='<div class="ff-settings-popup"> <div class="ff-popup-section"> <i class="ff-popup-close"></i><ul class="ff-settings-tabs"><li class="ff-settings-active">CTA</li></ul> <div class="ff-settings-content"><div class="cta-settings"><p class="ff-setting-check-after"><label for="ff-cta-text-'+n.id+'">Card CTA</label><input id="ff-cta-text-'+n.id+'" type="text"></p><p><input id="ff-cta-open-'+n.id+'" type="checkbox" value="yep"/> <label for="ff-cta-open-'+n.id+'">Open lightbox on click</label></p><p><label for="ff-cta-ltext-'+n.id+'">Lightbox CTA</label><input id="ff-cta-ltext-'+n.id+'" type="text"></p><p class="ff-setting-check-after"><label for="ff-cta-url-'+n.id+'">Card / CTA link</label><input id="ff-cta-url-'+n.id+'" type="text"></p><p><input id="ff-cta-new-'+n.id+'" type="checkbox" value="yep"/> <label for="ff-cta-new-'+n.id+'">Open in new tab</label></p><p><label for="ff-cta-color-'+n.id+'">CTA color</label><input class="ff-colorpicker spectrum with-add-on" id="ff-cta-color-'+n.id+'" type="text" value="#e916b7" ></p><p><label for="ff-cta-like-'+n.id+'">Likes promo</label><select name="ff-cta-like-'+n.id+'" id="ff-cta-like-'+n.id+'"><option value="0" selected>Disabled</option><option value="1">Display +1 on page load</option><option value="10">Display random in range 1-10</option></select></p><p class="ff-settings-btn-wrapper"><span class="ff-settings-btn ff-settings-btn--apply ff-moderation-button">Apply & Save</span> <span class="ff-settings-btn ff-settings-btn--clear">Clear All</span></p></div></div></div> </div>'),(f=e(A)).each(function(t){if(this.className.indexOf("ff-stream-wrapper")+1)return u=e(this),!1}),m=(h=f.find(".ff-item")).not(".ff-ad"),u.data("opts",n).data("items",h).data("viewport",E);var L="";if(m.each(function(){var t=e(this);t.is(".ff-image")?t.find("img").not(".ff-initial-image").remove():t.find("img").not(":first").remove();var i=t.attr("post-id"),s=F.find(function(e){return e.id==i});s&&s.cta&&(s.cta.text||s.cta.ltext)&&(L+="#ff-stream-"+n.id+' .in[post-id="'+i+'"] .ff-post-cta,#ff-stream-infinite-'+n.id+' .ff-viewport-slide-in[post-id="'+i+'"] .ff-post-cta,#ff-stream-'+n.id+'-slideshow .ff-show-cta[post-id="'+i+'"] .ff-post-cta{background-color: '+s.cta.color+";}"),t.data("opts",s)}),(v=document.getElementById("ff-cta-css-"+n.id))&&v.parentNode.removeChild(v),L&&a(L,"ff-cta-css-"+n.id),f.find("p:empty, .ff-content a:empty").remove(),f.find(".ff-filters-select").selectric({nativeOnMobile:!1,labelBuilder:function(e){var t=n.feeds.find(function(t){return t.id==e.value});return(t?d(t["timeline-type"]):"")+e.text},optionsItemBuilder:function(e,t,i){var s=n.feeds.find(function(t){return t.id==e.value});return(s?d(s["timeline-type"]):"")+e.text}}).on("change",function(e){var t=this.value;O(G,u,t)}),f.find("img").each(function(){k.apply(this,[u])}),f.find(".ff-filter").click(function(){f.find(".ff-filter--active").removeClass("ff-filter--active");var t=e(this).addClass("ff-filter--active").attr("data-filter");O(G,u,t)}).mouseenter(function(){var t,i=e(this),s=i.data("filter");"flow_flow"==G&&(t=u.find(s?"[data-type="+s+"]":".ff-item, li[post-id]").length),"insta_flow"==G&&(t=u.find(s?"[data-feed="+s+"]":".ff-item, li[post-id]").length),i.attr("data-num",t)}),f.find(".ff-search input").on("keyup",function(){var e=this.value.toLowerCase();I(u,e)}),f.on("click",".ff-cta-likes",function(t){var i=e(this);t.preventDefault(),i.closest(".ff-item").click(),i.hide()}),f.on("click","a",function(t){var i=e(this),s=e(this).attr("href");return-1==s.indexOf("mailto:?")&&i.closest(".ff-share-popup").length?(window.open(s,"sharer","toolbar=0,status=0,width=626,height=436"),!1):(!i.is(".ff-no-link")||"nope"!==n.gallery&&!p)&&void 0}),f.on("click",".ff-share-wrapper",function(t){var i=e(this);i.data("opened")?(i.removeClass("ff-popup__visible"),i.data("opened",!1)):(i.addClass("ff-popup__visible"),i.data("opened",!0))}),"nope"===n.gallery?(u.addClass("ff-gallery-off").on("click",'.ff-item:not(".ff-ad") .picture-item__inner',function(i){var s=e(i.target),n=e(this);if(!s.closest("a, .ff-share-wrapper").length||s.is("img"))return p?n.toggleClass("ff-taped"):t(n.find(".ff-timestamp")[0]),!1}),u.on("click",".ff-timestamp",function(e){e.stopImmediatePropagation()})):u.addClass("ff-gallery-on"),"yep"===g.open_in_new){var W=location.hostname;f.find("a").filter(function(){var e=this.href;return this.hostname!=W&&e&&-1==e.indexOf("mailto")}).attr("target","_blank").attr("rel","noreferrer")}x(m,n),o&&(e.spectrum&&f.find(".ff-colorpicker").spectrum({type:"text",showAlpha:!1,allowEmpty:!1,showPalette:!1}),B(f,0,n)),se[n.id]=u;for(var H in l)l[H]&&this[H].init(u);return f}console.log("FLOW-FLOW: Empty response from server")},setupGrid:function(e,t,i,s,n,o){setTimeout(function(){E(e,t,i,s,n,o)},0)},adjustImgHeight:function(t,i){t.find("img").each(function(){var t=e(this),s=parseInt(t.css("height")),n=parseInt(t.css("width")),o=i/n;t.css("height",Math.round(s*o)+"px")})}}}(e);window.FlowFlow=v.init();var w=function(e,t){return function(){var i=Array.prototype.slice.call(arguments);return i.push(t),e.apply(this,i)}}}(jQuery),jQuery(document).on("done.stream",function(e,t,i){jQuery(function(){setTimeout(function(){},500)})});